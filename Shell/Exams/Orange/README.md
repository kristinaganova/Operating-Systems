## Shell Tasks Archive

###  `2016-SE-04`
–í —Ç–µ–∫—É—â–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏–º–∞ —Å–∞–º–æ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ (–±–µ–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏). –î–∞ —Å–µ –Ω–∞–ø–∏—à–µ
bash script, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ 2 –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ ‚Äì —á–∏—Å–ª–∞, –∫–æ–π—Ç–æ –º–µ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –æ—Ç —Ç–µ–∫—É—â–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 
–∫—ä–º –Ω–æ–≤–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (a, b –∏ c, –∫–æ–∏—Ç–æ —Ç—Ä—è –¥–∞ –±—ä–¥–∞—Ç —Å—ä–∑–¥–∞–¥–µ–Ω–∏), –∫–∞—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ñ–∞–π–ª —Å–µ
–º–µ—Å—Ç–∏ –∫—ä–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è ‚Äôa‚Äô, —Å–∞–º–æ –∞–∫–æ —Ç–æ–π –∏–º–∞ –ø–æ-–º–∞–ª–∫–æ —Ä–µ–¥–æ–≤–µ –æ—Ç –ø—ä—Ä–≤–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä, –º–µ—Å—Ç–∏
–∫—ä–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è ‚Äôb‚Äô, –∞–∫–æ —Ä–µ–¥–æ–≤–µ —Å–∞ –º–µ–∂–¥—É –ø—ä—Ä–≤–∏ –∏ –≤—Ç–æ—Ä–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –∏ –≤ ‚Äôc‚Äô –≤ –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ
—Å–ª—É—á–∞–∏.

```bash
#!/bin/bash

if [[ "${#}" -ne 2 ]] ;
then 
    echo "Two parameters allowed"
    exit 1
fi

if [[ ! "${1}" =~ ^[0-9]+$ ]] || [[ ! "${2}" =~ ^[0-9]+$ ]] ;
then 
    echo "Parameters should be numbers"
    exit 2
fi

for file in $(find . -mindepth 1 -maxdepth 1 -type f ) 
do
    lines_count=$(cat "${file}" | wc -l)
    if [[ "${lines_count}" -lt "${1}" ]] ;
    then 
        mv "${file}" ./a
    elif [[ "${lines_count}" -gt "${1}" ]] || [[ "${lines_count}" -lt "${2}" ]] ;
    then 
        mv "${file}" ./b
    else
        mv "${file}" ./c
    fi
done
```

---

###  `2017-IN-01`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ —Ç—Ä–∏ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–∑–∏—Ü–æ–Ω–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
‚Ä¢ –∏–º–µ –Ω–∞ —Ñ–∞–∏–ª
‚Ä¢ –Ω–∏–∑1
‚Ä¢ –Ω–∏–∑2
–§–∞–π–ª—ä—Ç –µ —Ç–µ–∫—Å—Ç–æ–≤–∏, –∏ —Å—ä–¥—ä—Ä–∂–∞ —Ä–µ–¥–æ–≤–µ –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç:
–∫–ª—é—á=—Å—Ç–æ–π–Ω–æ—Å—Ç
–∫—ä–¥–µ—Ç–æ —Å—Ç–æ–π–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –±—ä–¥–µ:
‚Ä¢ –ø—Ä–∞–∑–µ–Ω –Ω–∏–∑, —Ç.–µ. —Ä–µ–¥—ä—Ç –µ –∫–ª—é—á=
‚Ä¢ –Ω–∏–∑, —Å—ä—Å—Ç–æ—è—â —Å–µ –æ—Ç –µ–¥–∏–Ω –∏–ª–∏ –ø–æ–≤–µ—á–µ —Ç–µ—Ä–º–æ–≤–µ, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏, —Ç.–µ., —Ä–µ–¥—ä—Ç –µ –∫–ª—é—á=ùë°1
ùë°2
ùë°3
–ù—è–∫—ä–¥–µ –≤—ä–≤ —Ñ–∞–π–ª–∞:
‚Ä¢ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –µ–¥–∏–Ω —Ä–µ–¥ —Å –∫–ª—é—á –ø—ä—Ä–≤–∏—è –ø–æ–¥–∞–¥–µ–Ω –Ω–∏–∑ (–Ω–∏–∑1);
‚Ä¢ –∏ –º–æ–∂–µ –¥–∞ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –µ–¥–∏–Ω —Ä–µ–¥ —Å –∫–ª—é—á –≤—Ç–æ—Ä–∏—è –ø–æ–¥–∞–¥–µ–Ω –Ω–∏–∑ (–Ω–∏–∑2).
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω—è —Ä–µ–¥–∞ —Å –∫–ª—é—á –Ω–∏–∑2 —Ç–∞–∫–∞, —á–µ –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Ç–µ—Ä–º–æ–≤–µ—Ç–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ—Ç–µ —Å –∫–ª—é—á–æ–≤–µ –Ω–∏–∑1 –∏ –Ω–∏–∑2 –¥–∞ –≤–∫–ª—é—á–≤–∞ –≤—Å–µ–∫–∏ —Ç–µ—Ä–º –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ.
–ü—Ä–∏–º–µ—Ä–µ–Ω –≤—Ö–æ–¥–µ–Ω —Ñ–∞–π–ª:
```
$ cat z1.txt
FOO=73
BAR=42
BAZ=
ENABLED_OPTIONS=a b c d
ENABLED_OPTIONS_EXTRA=c e f
–ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ:
$ ./a.sh z1.txt ENABLED_OPTIONS ENABLED_OPTIONS_EXTRA
–ò–∑—Ö–æ–¥–µ–Ω —Ñ–∞–π–ª:
$ cat z1.txt
FOO=73
BAR=42
7
BAZ=
ENABLED_OPTIONS=a b c d
ENABLED_OPTIONS_EXTRA=e f
```

```bash
#!/bin/bash

if [[ "${#}" -ne 3 ]] ;
then
    echo "Invalid number of parameters"
    exit 1
fi

if [[ ! -f "${1}" ]] ;
then
    echo "Invalid file"
    exit 2
fi

if [[ -z "${3}" ]] || [[ -z "${2}" ]] ;
then
    echo "Empty string"
    exit 3
fi

terms1=$(egrep "^${2}=.*" "${1}" | cut -d '=' -f 2 | tr ' ' '\n' )
terms2=$(egrep "^${3}=.*" "${1}" | cut -d '=' -f 2 | tr ' ' '\n' )

for line in ${terms2} ;
do
    if ! echo "${terms1}" | grep -qxF "${line}" ;
    then
       result+="${line} "
    fi
done

sed -i -E "s:(${3}=).*:\1${result}:g" "${1}"
```

---

###  `2017-SE-01`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø–æ–ª—É—á–∞–≤–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω –ø—ä—Ä–≤–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä ‚Äì –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ –Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω –≤—Ç–æ—Ä–∏ ‚Äì —á–∏—Å–ª–æ. –°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –ø–æ–¥–∞–¥–µ–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ –Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞:
–∞) –ø—Ä–∏ –ø–æ–¥–∞–¥–µ–Ω –Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞ –≤—Ç–æ—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä ‚Äì –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ —Å –±—Ä–æ–π hardlink-–æ–≤–µ –ø–æ–Ω–µ —Ä–∞–≤–µ–Ω –Ω–∞
–ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞;
–±) –ø—Ä–∏ –ª–∏–ø—Å–∞ –Ω–∞ –≤—Ç–æ—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä ‚Äì –≤—Å–∏—á–∫–∏ symlink-–æ–≤–µ —Å –Ω–µ—Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â destination (—Å—á—É–ø–µ–Ω–∏ symlink–æ–≤–µ).
–ó–∞–±–µ–ª–µ–∂–∫–∞:–ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –∞–∫–æ –∏–º–∞ –ø–æ–¥–∞–¥–µ–Ω –≤—Ç–æ—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä, —Ç–æ —Ç–æ–π –µ —á–∏—Å–ª–æ


```bash
#!/bin/bash

if [[ ! -d "${1}" ]] ;
then
    echo "First parameter should be a directory"
    exit 1
fi

if [[ "${#}" -eq 2 ]] ;
then
    if [[ "${2}" =~ ^[0-9]+$ ]] ;
    then
        find "${1}" -mindepth 1 -type f  -exec stat -c "%h %n\n" {} \; | awk -v var=${2} '{if ($1>=var) print $2}'
    else
        echo "Invalid second parameter"
        exit 2
    fi
elif [[ "${#}" -eq 1 ]] ;
then
    find "${1}" -mindepth 1 -type l -exec test ! -e {} \; -print
fi
```

---

###  `2017-SE-02`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ —Ç—Ä–∏ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
SRC, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è DST (–∫–æ—è—Ç–æ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞ —Ñ–∞–π–ª–æ–≤–µ) –∏ –Ω–∏–∑ –êBC. –ê–∫–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞
–æ—Ç root –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, —Ç–æ —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ –Ω–∞–º–∏—Ä–∞ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ SRC –∏ –Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, 
–∫–æ–∏—Ç–æ –∏–º–∞—Ç –≤ –∏–º–µ—Ç–æ —Å–∏ –∫–∞—Ç–æ –ø–æ–¥-–Ω–∏–∑ –êBC, –∏ –¥–∞ –≥–∏ –º–µ—Å—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ DST, –∑–∞–ø–∞–∑–≤–∞–π–∫–∏
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–Ω–æ –±–µ–∑ –¥–∞ –∑–∞–ø–∞–∑–≤–∞ –º–µ—Ç–∞-–¥–∞–Ω–Ω–∏ –∫–∞—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –∏ –ø—Ä–∞–≤–∞, —Ç.–µ. –Ω–µ –Ω–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞—Ç 
—Ç–µ–∑–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ –Ω–æ–≤–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫–æ–∏—Ç–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç –±–∏ –≥–µ–Ω–µ—Ä–∏—Ä–∞–ª –≤ DST).
–ü—Ä–∏–º–µ—Ä:
‚Ä¢ –≤ SRC (/src) –∏–º–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ:
/src/foof.txt
/src/1/bar.txt
/src/1/foo.txt
/src/2/1/foobar.txt
/src/2/3/barf.txt
‚Ä¢ DST (/dst) –µ –ø—Ä–∞–∑–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚Ä¢ –∑–∞–¥–∞–¥–µ–Ω–∏—è –Ω–∏–∑ –µ foo
–†–µ–∑—É–ª—Ç–∞—Ç:
‚Ä¢ –≤ SRC –∏–º–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ:
/src/1/bar.txt
/src/2/3/barf.txt
‚Ä¢ –≤ DST –∏–º–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ:
8
/dst/foof.txt
/dst/1/foo.txt
/dst/2/1/foobar.txt

```bash
#!/bin/bash

if [[ "${#}" -ne 3 ]] ;
then
    echo "There should be 3 parameters"
    exit 1
fi

src="${1}"

if [[ ! -d "${src}" ]] ;
then
    echo "1st param should be a directory"
    exit 2
fi

dst="${2}"

if [[ -d "${dst}" ]] ;
then
    if [[  $(find "${dst}" -mindepth 1 | wc -l) -ne 0 ]] ;
    then
        echo "The destination folder should be empty"
        exit 3
    fi
else
    echo "Incorrect dest dir"
    exit 4
fi

abc="${3}"
if [[ -z "${abc}" ]]
then
    echo "Empty string"
    exit 5
fi

if [[ $(id -u) -ne 0 ]] ;
then
    echo "Only root cat execute this script"
    exit 6
fi

files=$(find "${src}" -type f -name "*${abc}*")
echo "${files}"
for file in $files ;
do
    src_path=$(realpath "${src}")
    path=$(realpath "${file}" | rev | cut -d '/' -f 2- | rev | sed "s:^${src_path}/::g")
    mkdir -p "${dst}/${path}"

    mv "${file}" "${dst}/${path}/"

done

```

---

###  `2018-SE-02`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ ‚Äì –∏–º–µ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª –∏
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è. –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞ –æ–±–µ–∫—Ç–∏, –∞ —Ç–µ–∫—Å—Ç–æ–≤–∏—è—Ç —Ñ–∞–π–ª (US-ASCII) –µ —Å—Ç–µ–Ω–æ–≥—Ä–∞–º–∞
–∏ –≤—Å–µ–∫–∏ —Ä–µ–¥ –µ –≤ —Å–ª–µ–¥–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç:
–ò–ú–ï –§–ê–ú–ò–õ–ò–Ø (—É—Ç–æ—á–Ω–µ–Ω–∏—è): –†–µ–ø–ª–∏–∫–∞
–∫—ä–¥–µ—Ç–æ:
‚Ä¢ –ò–ú–ï –§–ê–ú–ò–õ–ò–Ø –ø—Ä–∏—Å—ä—Å—Ç–≤–∞—Ç –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ;
‚Ä¢ –ò–ú–ï –∏ –§–ê–ú–ò–õ–ò–Ø —Å–µ —Å—ä—Å—Ç–æ—è—Ç —Å–∞–º–æ –æ—Ç –º–∞–ª–∫–∏/–≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏ –∏ —Ç–∏—Ä–µ—Ç–∞;
‚Ä¢ (—É—Ç–æ—á–Ω–µ–Ω–∏—è) –Ω–µ –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –¥–∞ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞—Ç;
‚Ä¢ –¥–≤–æ–µ—Ç–æ—á–∏–µ—Ç–æ ‚Äò:‚Äô –ø—Ä–∏—Å—ä—Å—Ç–≤–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ;
10
‚Ä¢ –†–µ–ø–ª–∏–∫–∞—Ç–∞ –Ω–µ —Å—ä–¥—ä—Ä–∂–∞ –∑–Ω–∞—Ü–∏ –∑–∞ –Ω–æ–≤ —Ä–µ–¥;
‚Ä¢ –≤ —Å—Ç—Ä–∏–Ω–≥–∞ –ø—Ä–µ–¥–∏ –¥–≤–æ–µ—Ç–æ—á–∏–µ—Ç–æ ‚Äò:‚Äô –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∏–º–∞ –ø–æ–Ω–µ –µ–¥–∏–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ò–ú–ï –∏ –§–ê–ú–ò–õ–ò–Ø;
‚Ä¢ –Ω–∞–ª–∏—á–∏–µ—Ç–æ –Ω–∞ –¥—Ä—É–≥–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏ –∫—ä–¥–µ—Ç–æ –∏ –¥–∞ –µ –Ω–∞ —Ä–µ–¥–∞ –µ –Ω–µ–¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–æ.
–ü—Ä–∏–º–µ—Ä–µ–Ω –≤—Ö–æ–¥–µ–Ω —Ñ–∞–π–ª:
John Lennon (The Beatles): Time you enjoy wasting, was not wasted.
Roger Waters: I'm in competition with myself and I'm losing.
John Lennon:Reality leaves a lot to the imagination.
Leonard Cohen:There is a crack in everything, that's how the light gets in.
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞:
‚Ä¢ —Å—ä–∑–¥–∞–≤–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª dict.txt –≤ –ø–æ—Å–æ—á–µ–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –∫–æ–π—Ç–æ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞:
–ò–ú–ï –§–ê–ú–ò–õ–ò–Ø;–ù–û–ú–ï–†
–∫—ä–¥–µ—Ç–æ:
‚Äì –ò–ú–ï –§–ê–ú–ò–õ–ò–Ø –µ —É–Ω–∏–∫–∞–ª–µ–Ω —É—á–∞—Å—Ç–Ω–∏–∫ –≤ —Å—Ç–µ–Ω–æ–≥—Ä–∞–º–∞—Ç–∞ (–±–µ–∑ –¥–∞ —Å–µ –æ—Ç—á–∏—Ç–∞—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è—Ç–∞);
‚Äì –ù–û–ú–ï–† –µ —É–Ω–∏–∫–∞–ª–µ–Ω –Ω–æ–º–µ—Ä –Ω–∞ —Ç–æ–∑–∏ —É—á–∞—Å—Ç–Ω–∏–∫, –∏–∑–±—Ä–∞–Ω –æ—Ç –≤–∞—Å.
‚Ä¢ —Å—ä–∑–¥–∞–≤–∞ —Ñ–∞–π–ª –ù–û–ú–ï–†.txt –≤ –ø–æ—Å–æ—á–µ–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ –≤—Å–∏—á–∫–∏ (–∏ —Å–∞–º–æ) —Ä–µ–¥–æ–≤–µ—Ç–µ –Ω–∞
–¥–∞–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫.

```bash
#!/bin/bash

if [[ ${#} -ne 2 ]] ;
then
    echo "Invalid number of parameters"
    exit 1
fi

file=${1}
dir=${2}

if [[ ! -f "${file}" ]] ;
then
    echo "Invalid file parameter"
    exit 2
fi

if [[ ! -d "${dir}"  ]] ;
then
    echo "Invalid directory parameter"
    exit 3
fi

valid_lines=$(egrep "^[a-zA-Z-]+ [a-zA-Z-]+( \(.*\))?:.*" "${file}")

if [[ ! -f "${dir}/dict.txt" ]] ;
then
    touch "${dir}/dict.txt"
fi

dict="${dir}/dict.txt"
counter=1

while read person ;
do
    if grep -q "${person}" "${dict}" ;
    then
        continue
    fi
    echo "${person}:${counter}" >> "${dict}"
    if [[ ! -f "${counter}" ]] ;
    then
        touch "${dir}/${counter}.txt"
    fi

    grep "${person}" <(echo "${valid_lines}") | cut -d ":" -f 2  | sed "s:^ ::g" > ${dir}/${counter}.txt
    ((counter+=1 ))
done < <(echo "${valid_lines}" | cut -d ':' -f 1 | sed "s:(.*)::g" | sort | uniq ) ;

```
---

###  `2018-SE-03`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ ‚Äì –∏–º–µ–Ω–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª–æ–≤–µ
–≤ CSV —Ñ–æ—Ä–º–∞—Ç:
8,foo,bar,baz
2,quz,,foo
12,1,3,foo
3,foo,,
5,,bar,
7,,,
4,foo,bar,baz
–í–∞–ª–∏–¥–Ω–∏ —Å–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —É—Å–ª–æ–≤–∏—è:
‚Ä¢ CSV —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞—Ç —Ç–∞–±–ª–∏—Ü–∞, –∫–∞—Ç–æ –≤—Å–µ–∫–∏ —Ä–µ–¥ –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ –µ –∑–∞–ø–∏—Å–∞–Ω –Ω–∞ –æ—Ç–¥–µ–ª–µ–Ω —Ä–µ–¥;
‚Ä¢ –Ω–∞ –¥–∞–¥–µ–Ω —Ä–µ–¥ –≤—Å—è–∫–æ –ø–æ–ª–µ (–∫–æ–ª–æ–Ω–∞) –µ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –æ—Ç –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ —Å—ä—Å –∑–∞–ø–µ—Ç–∞—è;
‚Ä¢ –±—Ä–æ—è—Ç –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ –µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞;
‚Ä¢ –≤ –ø–æ–ª–µ—Ç–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞ –∑–∞–ø–µ—Ç–∞—è, —Ç.–µ., –∑–∞–ø–µ—Ç–∞—è—Ç–∞ –≤–∏–Ω–∞–≥–∏ –µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª –º–µ–∂–¥—É –ø–æ–ª–µ—Ç–∞;
‚Ä¢ –∞–∫–æ –≤—ä–≤ —Ñ–∞–π–ª–∞ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏, —Ç–æ —Ç–æ–≤–∞ —Å–∞ –¥–∞–Ω–Ω–∏ –æ—Ç –¥–∞–¥–µ–Ω–æ –ø–æ–ª–µ;
‚Ä¢ –ø—ä—Ä–≤–æ—Ç–æ –ø–æ–ª–µ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ –µ —á–∏—Å–ª–æ, –∫–æ–µ—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ —Ä–µ–¥–∞ (ID).
–ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ: ./foo.sh a.csv b.csv
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —á–µ—Ç–µ a.csv –∏ –Ω–∞ –Ω–µ–≥–æ–≤–∞ –±–∞–∑–∞ –¥–∞ —Å—ä–∑–¥–∞–≤–∞ b.csv –ø–æ —Å–ª–µ–¥–Ω–∏—è –Ω–∞—á–∏–Ω:
‚Ä¢ –Ω—è–∫–æ–∏ —Ä–µ–¥–æ–≤–µ –≤—ä–≤ —Ñ–∞–π–ª–∞ —Å–µ —Ä–∞–∑–ª–∏—á–∞–≤–∞—Ç —Å–∞–º–æ –ø–æ –∫–æ–ª–æ–Ω–∞—Ç–∞ ID, –∏ –∑–∞ —Ç—è—Ö –∫–∞–∑–≤–∞–º–µ, —á–µ —Ñ–æ—Ä–º–∏—Ä–∞—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ ùê¥ùëñ
‚Ä¢ –∑–∞ –≤—Å—è–∫–æ —Ç–∞–∫–æ–≤–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ ùê¥ùëñ
–¥–∞ —Å–µ –æ—Å—Ç–∞–≤—è —Å–∞–º–æ –µ–¥–∏–Ω —Ä–µ–¥ - —Ç–æ–∑–∏, —Å –Ω–∞–π-–º–∞–ª–∫–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ ID-—Ç–æ;
‚Ä¢ —Ä–µ–¥–æ–≤–µ—Ç–µ, –∫–æ–∏—Ç–æ –Ω–µ —Å–∞ —á–ª–µ–Ω–æ–≤–µ –≤ –Ω—è–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ ùê¥ùëñ
—Å–µ –∑–∞–ø–∏—Å–≤–∞—Ç –≤ –∏–∑—Ö–æ–¥–Ω–∏—è —Ñ–∞–π–ª –±–µ–∑ –ø—Ä–æ–º—è–Ω–∞.

```bash
#!/bin/bash

if [[ "${#}" -ne 2 ]] ;
then
    echo "Two parameters"
    exit 1
fi

input="${1}"

if [[ ! -f "${input}" ]] ;
then
    echo "Invalid file"
    exit 2
fi

output="${2}"
if [[ -e "${output}" ]] ;
then
    > "${output}"
else
    touch "${output}"
fi

removed_id=$(cut -d ',' -f 2- "${input}" | sort | uniq)
while read line ;
do
    count=$(egrep -o "^[0-9]+,${line}$" "${input}" | wc -l)
    if [[ "${count}" -lt 2 ]] ;
    then
        whole_line=$(egrep "^[0-9]+,${line}$" "${input}")
        echo "${whole_line}" >> "${output}"
    else
        echo "$(egrep "^[0-9]+,${line}$" "${input}" | sort -n -k 1 -t ',' | head -n 1)" >> "${output}"
    fi
done <<< "${removed_id}"
```

---

###  `2019-SE-01`
–ù–∞–ø–∏—à–µ—Ç–µ –¥–≤–∞ —Å–∫—Ä–∏–ø—Ç–∞ (–ø–æ –µ–¥–∏–Ω –∑–∞ –≤—Å—è–∫–∞ –ø–æ–¥—Ç–æ—á–∫–∞), –∫–æ–∏—Ç–æ —á–µ—Ç–∞—Ç —Ä–µ–¥–æ–≤–µ –æ—Ç STDIN. –°–∫—Ä–∏–ø—Ç–æ–≤–µ—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç —Å–∞–º–æ —Ä–µ–¥–æ–≤–µ—Ç–µ, –∫–æ–∏—Ç–æ —Å—ä–¥—ä—Ä–∂–∞—Ç —Ü–µ–ª–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∏ –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ —á–∏—Å–ª–∞;
–æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ —Ä–µ–¥–æ–≤–µ —Å–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞—Ç. –°–∫—Ä–∏–ø—Ç–æ–≤–µ—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –Ω–∞ STDOUT:
–∞) –≤—Å–∏—á–∫–∏ —É–Ω–∏–∫–∞–ª–Ω–∏ —á–∏—Å–ª–∞, —á–∏—è—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –µ —Ä–∞–≤–Ω–∞ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª–Ω–∞—Ç–∞ –∞–±—Å–æ–ª—é—Ç–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç —Å—Ä–µ–¥ –≤—Å–∏—á–∫–∏ —á–∏—Å–ª–∞
–±) –≤—Å–∏—á–∫–∏ –Ω–∞–π-–º–∞–ª–∫–∏ —É–Ω–∏–∫–∞–ª–Ω–∏ —á–∏—Å–ª–∞ –æ—Ç —Ç–µ–∑–∏, –∫–æ–∏—Ç–æ –∏–º–∞—Ç –º–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Å—É–º–∞ –Ω–∞ —Ü–∏—Ñ—Ä–∏—Ç–µ —Å–∏
–ü—Ä–∏–º–µ—Ä–µ–Ω –≤—Ö–æ–¥:
We don't
n11d n0
educat10n
11
12.3
6
33
-42
-42
111
111
-111
–ü—Ä–∏–º–µ—Ä–µ–Ω –∏–∑—Ö–æ–¥ –∑–∞ –∞):
-111
111
–ü—Ä–∏–º–µ—Ä–µ–Ω –∏–∑—Ö–æ–¥ –∑–∞ –±):
-42

#### –†–µ—à–µ–Ω–∏–µ:
```bash
#a)
#!/bin/bash

numbers_file=$(mktemp)

while read line ;
do
    if [[ ${line} =~ ^((-)?[0-9]+( )?)+$ ]] ;
    then
        echo "${line}" >> "${numbers_file}"
    fi
done

sed "s: :\n:g"

max=$(cat "${numbers_file}" | tr -d '-' | sort -n -r | head -n 1)

echo "Result:"
cat "${numbers_file}" | egrep "^(-)?${max}$" | sort | uniq


#b)
#!/bin/bash

temp=$(mktemp)

while read line ;
do
    if [[ ${line} =~ ^((-)?[0-9]+( )?)+$ ]] ;
    then
        echo "${line}" >> "${temp}"
    fi
done

max_sum=0
max_sum_num=0
nums_with_sums=$(mktemp)

while read line ;
do
    current_sum=$(echo "${line}" | sed -E "s:-?([0-9]):\1\n:g" | awk '{sum += $1} END {print sum}')
    echo "${line} ${current_sum}" >> "${nums_with_sums}"

    if [[ ${current_sum} -gt ${max_sum} ]] ;
    then
        max_sum=${current_sum}
        max_sum_num=${line}
    fi
done < <(cat "${temp}" | tr ' ' '\n')

echo "Result:"
cat "${nums_with_sums}" | egrep "^-?[0-9]+ ${max_sum}$" | sort -n -k 1 | head -n 1 | cut -d ' ' -f 1

```

###  `2019-SE-02`
–ù–∞–ø–∏—à–µ—Ç–µ —à–µ–ª —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏. –û–±—â –≤–∏–¥ –Ω–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ:
./foo.sh [-n N] FILE1...
–í –æ–±—â–∏—è —Å–ª—É—á–∞–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ —Å–µ —Ç—Ä–µ—Ç–∏—Ä–∞—Ç –∫–∞—Ç–æ –∏–º–µ–Ω–∞ –Ω–∞ (.log) —Ñ–∞–π–ª–æ–≤–µ, –∫–æ–∏—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–∞—Ç –æ–±—Ä–∞–±–æ—Ç–µ–Ω–∏ –æ—Ç —Å–∫—Ä–∏–ø—Ç–∞, —Å—ä—Å —Å–ª–µ–¥–Ω–æ—Ç–æ –∏–∑–∫–ª—é—á–µ–Ω–∏–µ: –∞–∫–æ –ø—ä—Ä–≤–∏—è—Ç –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –µ —Å—Ç—Ä–∏–Ω–≥—ä—Ç -n, —Ç–æ –≤—Ç–æ—Ä–∏—è—Ç –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –µ —á–∏—Å–ª–æ, –¥–µ—Ñ–∏–Ω–∏—Ä–∞—â–æ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ N, –∫–æ—è—Ç–æ —â–µ –ø–æ–ª–∑–≤–∞–º–µ –≤ —Å–∫—Ä–∏–ø—Ç–∞. –í—ä–≤–µ–∂–¥–∞–º–µ
–ø–æ–Ω—è—Ç–∏–µ—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ —Ñ–∞–π–ª (–ò–î–§), –∫–æ–µ—Ç–æ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –∏–º–µ—Ç–æ –Ω–∞ –¥–∞–¥–µ–Ω —Ñ–∞–π–ª –±–µ–∑ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ—Ç–æ
.log. –ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ —Å–∫—Ä–∏–ø—Ç—ä—Ç:
‚Ä¢ —â–µ –±—ä–¥–µ –∏–∑–≤–∏–∫–≤–∞–Ω —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –∏–º–µ–Ω–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ, –≤–∏–Ω–∞–≥–∏ –∑–∞–≤—ä—Ä—à–≤–∞—â–∏ –Ω–∞ .log
‚Ä¢ –Ω—è–º–∞ –¥–∞ –±—ä–¥–µ –∏–∑–≤–∏–∫–≤–∞–Ω —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –∏–º–µ–Ω–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ —Å –µ–¥–Ω–∞–∫—ä–≤ –ò–î–§.
–õ–æ–≥ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ —Å–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏, –∫–∞—Ç–æ –≤—Å–µ–∫–∏ —Ä–µ–¥ –∏–º–∞ —Å–ª–µ–¥–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç:
‚Ä¢ –≤—Ä–µ–º–µ: timestamp –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD HH:MM:SS
‚Ä¢ –∏–Ω—Ç–µ—Ä–≤–∞–ª
‚Ä¢ –¥–∞–Ω–Ω–∏: –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç —Å–∏–º–≤–æ–ª–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –¥—ä–ª–∂–∏–Ω–∞
–ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ —Ä–µ–¥–æ–≤–µ—Ç–µ –≤—ä–≤ –≤—Å–µ–∫–∏ —Ñ–∞–π–ª —Å–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–∏ –ø–æ –≤—Ä–µ–º–µ –≤—ä–∑—Ö–æ–¥—è—â–æ.
–ü—Ä–∏–º–µ—Ä–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ –¥–∞–¥–µ–Ω –ª–æ–≥ —Ñ–∞–π–ª:
2019-05-05 06:26:54 orthanc rsyslogd: rsyslogd was HUPed
2019-05-06 06:30:32 orthanc rsyslogd: rsyslogd was HUPed
2019-05-06 10:48:29 orthanc kernel: [1725379.728871] Chrome_~dThread[876]: segfault
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –Ω–∞ STDOUT –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ N —Ä–µ–¥–∞ (–∞–∫–æ N –Ω–µ –µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–æ - 10 —Ä–µ–¥–∞) –æ—Ç –≤—Å–µ–∫–∏
—Ñ–∞–π–ª, –≤ —Å–ª–µ–¥–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç:
‚Ä¢ timestamp –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD HH:MM:SS
‚Ä¢ –∏–Ω—Ç–µ—Ä–≤–∞–ª
‚Ä¢ –ò–î–§
‚Ä¢ –∏–Ω—Ç–µ—Ä–≤–∞–ª
‚Ä¢ –¥–∞–Ω–Ω–∏
–ò–∑—Ö–æ–¥—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –≥–ª–æ–±–∞–ª–Ω–æ —Å–æ—Ä—Ç–∏—Ä–∞–Ω –ø–æ –≤—Ä–µ–º–µ –≤—ä–∑—Ö–æ–¥—è—â–æ.


```bash
#!/bin/bash

if [[ "${1}" == "-n" ]] ;
then
    if [[ ! "${2}" =~ ^[0-9]+$ ]] ;
    then
        echo "Invalid N"
        exit 1
    else
        N="${2}"
    fi
    shift
    shift
else
    N=10
fi

for file in "${@}" ;
do
    if [[ ! -f "${file}" || ! "${file}" =~ .*\.log ]] ;
    then
        echo "Invalid argument"
        exit 1
    fi
done

for file in "${@}" ;
do
   content="$(cat "${file}")"
   idf="$(echo "${file}" | sed -E 's:\.log::g')"
   first_part=$(echo "${content}" | cut -d ' ' -f 1,2)
   second_part=$(echo "${content}" | cut -d ' ' -f 3-)
   echo "${first_part} ${idf} ${second_part}"
done | sort | head -n "${N}"

```

###  `2020-SE-01`
–ù–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø–æ–ª—É—á–∞–≤–∞ –¥–≤–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ - –∏–º–µ
–Ω–∞ —Ñ–∞–π–ª (bar.csv) –∏ –∏–º–µ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è. –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª–æ–≤–µ —Å –∏–º–µ–Ω–∞
–æ—Ç –≤–∏–¥–∞ foobar.log, –≤—Å–µ–∫–∏ –æ—Ç –∫–æ–∏—Ç–æ –∏–º–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –æ—Ç —Å–ª–µ–¥–Ω–∏—è –≤–∏–¥:
–ü—Ä–∏–º–µ—Ä 1 ( loz-gw.log):
Licensed features for this platform:
Maximum Physical Interfaces : 8
VLANs : 20
Inside Hosts : Unlimited
Failover : Active/Standby
VPN-3DES-AES : Enabled
*Total VPN Peers : 25
VLAN Trunk Ports : 8
This platform has an ASA 5505 Security Plus license.
Serial Number: JMX00000000
Running Activation Key: 0e268e0c
–ü—Ä–∏–º–µ—Ä 2 ( border-lozenets.log):
Licensed features for this platform:
Maximum Physical Interfaces : 4
VLANs : 16
Inside Hosts : Unlimited
Failover : Active/Active
VPN-3DES-AES : Disabled
*Total VPN Peers : 16
VLAN Trunk Ports : 4
This platform has a PIX 535 license.
Serial Number: PIX5350007
Running Activation Key: 0xd11b3d48
13
–ò–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ª–æ–≥ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ (loz-gw, border-lozenets) –æ–ø—Ä–µ–¥–µ–ª—è—Ç –¥–∞–¥–µ–Ω hostname, –∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –∏–º
–¥–∞–≤–∞ –¥–µ—Ç–∞–π–ª–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç —Ö–æ—Å—Ç.
–§–∞–π–ª—ä—Ç bar.csv, –∫–æ–π—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ –æ—Ç –≤–∞—à–∏—è —Å–∫—Ä–∏–ø—Ç, –µ —Ç.–Ω. CSV (comma separated values)
—Ñ–∞–π–ª, —Ç–æ–µ—Å—Ç —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª - —Ç–∞–±–ª–∏—Ü–∞, –Ω–∞ –∫–æ–π—Ç–æ –ø–æ–ª–µ—Ç–∞—Ç–∞ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ —Å–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å—ä—Å –∑–∞–ø–µ—Ç–∞—è. –ü—ä—Ä–≤–∏—è—Ç
—Ä–µ–¥ —Å–µ –ø–æ–ª–∑–≤–∞ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—è–Ω–µ –Ω–∞ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –∫–æ–ª–æ–Ω–∏—Ç–µ.
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–≤–∞ —Ñ–∞–π–ª–∞ bar.csv –Ω–∞ –±–∞–∑–∞ –Ω–∞ log —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞. –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏—è—Ç
CSV —Ñ–∞–π–ª –æ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –∫–æ—è—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Å–∞–º–æ loz-gw.log –∏ border-lozenets.log –±–∏ –∏–∑–≥–ª–µ–∂–¥–∞–ª —Ç–∞–∫–∞:
hostname,phy,vlans,hosts,failover,VPN-3DES-AES,peers,VLAN Trunk Ports,license,SN,key
loz-gw,8,20,Unlimited,Active/Standby,Enabled,25,8,ASA 5505 Security Plus,JMX00000000,0e268e0c
border-lozenets,4,16,Unlimited,Active/Active,Disabled,16,4,PIX 535,PIX5350007,0xd11b3d48
–ü–æ–ª–µ—Ç–∞—Ç–∞ –≤ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏—è –æ—Ç —Å–∫—Ä–∏–ø—Ç–∞ CSV —Ñ–∞–π–ª –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –∏–∑–ª–∏—à–Ω–∏ trailing/leading –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏. –ó–∞ —É–ª–µ—Å–Ω–µ–Ω–∏–µ, –ø—Ä–∏–µ–º–µ—Ç–µ, —á–µ –≤—Å–∏—á–∫–∏ whitespace —Å–∏–º–≤–æ–ª–∏ –≤—ä–≤ –≤—Ö–æ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ —Å–∞ —Å–∏–º–≤–æ–ª–∞
‚Äú–∏–Ω—Ç–µ—Ä–≤–∞–ª‚Äù.

```bash
#!/bin/bash

if [[ "${#}" -ne 2 ]] ;
then
    echo "Invalid number of parameters"
    exit 1
fi

file="${1}"
dir="${2}"

if [[ -e "${file}" ]] ;
then
    > "${file}"
else
    touch "${file}"
fi

if [[ ! -d "${dir}" ]]
then
    echo "Invalid directory"
    exit 2
fi

files=$(find "${dir}" -type f -name "*.log")
if [[ $(echo "${files}" | wc -l) -lt 1 ]] ;
then
    echo "Empty directory"
    exit 3
fi

#search() {
#    sed -E "s/^${2}[[:space:]]*: ([^:]+)$/\1/g" "${1}" | tr -d ' '
#}

header="hostname,phy,vlans,hosts,failover,VPN-3DES-AES,peers,VLAN Trunk Ports,license,SN,key"
echo "${header}" >> "${file}"

for current in ${files} ; do
    hostname=$(sed "s:^(.*).log$:\1:g" "${current}")
    filed="${hostname},"
    while read line ; do
        if [[ ${line} =~ ^This platform has an (.*) license\.$ ]] ; then
            license=$(echo "${line}" | sed -E "^s/This platform has an (.*) license\.$/\1/g" )
            field+="${license},"
            continue
        else
            value="$(echo "${line}" | sed -E "s/^[^:]+: ([^ :]+)/\1/g" ),"
            field+="${value},"
        fi
    done < "${current}"

#    hostname=$(sed "s:^(.*).log$:\1:g" "${current}")
#    mpi=$(search "${current} " "Maximum Physical Interfaces")
#    vlans=$(search "${current}" "VLANs")
#    insize_hosts=$(search "${current}" "Inside Hosts")
#    failover=$(search "${current}" "Failover")
#    VPN=$(search "${current}" "VPN-3DES-AES")
#    total_vpn_peers=$(search "${current}" "*Total VPN Peers")
#    vlan_trunk_ports=$(search "${current}" "VLAN Trunk Ports")
#    license=$(sed "^s/This platform has an (.*) license\.$/\1/g" "${file}")
#    serial_number=$(search "${current}" "Serial Number")
#    activ_key=$(search "${current}" "Running Activation Key")
#    echo "${hostname},${mpi},${vlans},${insize_hosts},${failover},${VPN},${total_vpn_peers},${vlan_trunk_ports},${license},${serial_number},${activ_key}" >> "${file}"
     echo "${field}" | sed -E "s/^(.*),$/\1/g" >> "${file}"
done

```

###  `2020-SE-02`
–ù–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä - –∏–º–µ –Ω–∞ —Ñ–∞–π–ª. –§–∞–π–ª—ä—Ç –µ
log —Ñ–∞–π–ª –Ω–∞ HTTP —Å—ä—Ä–≤—ä—Ä, –≤ –∫–æ–π—Ç–æ —Å–µ –∑–∞–ø–∏—Å–≤–∞—Ç –≤—Å–∏—á–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏ –æ—Ç —Å—ä—Ä–≤—ä—Ä–∞ request-–∏, –∫–æ–∏—Ç–æ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ
—Å–∞ –∏–∑–ø—Ä–∞—Ç–∏–ª–∏. –§–∞–π–ª—ä—Ç –µ —Ç–µ–∫—Å—Ç–æ–≤–∏, –∫–∞—Ç–æ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ –∏–º–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç —Å–ª–µ–¥–Ω–∏—è –≤–∏–¥:
35.223.122.181 dir.bg - [03/Apr/2020:17:25:06 -0500] GET / HTTP/1.1 302 0 "-" "Zend_Http_Client"
94.228.82.170 del.bg - [03/Apr/2020:17:25:06 -0500] POST /auth HTTP/2.0 400 153 "foo bar" "<UA>"
–í—Å–µ–∫–∏ —Ä–µ–¥ –Ω–∞ —Ñ–∞–π–ª–∞ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –ø–æ–ª–µ—Ç–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª. –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ —Å –ø—Ä–∏–º–µ—Ä —Å–ø—Ä—è–º–æ
–ø—ä—Ä–≤–∏—è—Ç —Ä–µ–¥ –æ—Ç –≥–æ—Ä–Ω–∏—Ç–µ:
‚Ä¢ –∞–¥—Ä–µ—Å –Ω–∞ –∫–ª–∏–µ–Ω—Ç - 35.223.122.181
‚Ä¢ –∏–º–µ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–µ–Ω —Ö–æ—Å—Ç (—Å–∞–π—Ç) - dir.bg
‚Ä¢ –∏–º–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª - -
‚Ä¢ timestamp –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ - [03/Apr/2020:17:25:06 -0500]
‚Ä¢ –∑–∞—è–≤–∫–∞ - GET / HTTP/1.1 - —Å—ä—Å—Ç–æ–∏ —Å–µ –æ—Ç —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª: –º–µ—Ç–æ–¥ –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞
(–∑–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –º–æ–∂–µ –¥–∞ –∏–º–∞ —Å–∞–º–æ GET –∏ POST –∑–∞—è–≤–∫–∏), —Ä–µ—Å—É—Ä—Å–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∏
–ø—Ä–æ—Ç–æ–∫–æ–ª (–ø—Ä–∏–µ–º–∞–º–µ, —á–µ –º–æ–∂–µ –¥–∞ –∏–º–∞ —Å–∞–º–æ HTTP/1.0, HTTP/1.1 –∏ HTTP/2.0 –ø—Ä–æ—Ç–æ–∫–æ–ª–∏)
‚Ä¢ –∫–æ–¥ –∑–∞ —Å—Ç–∞—Ç—É—Å –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ - 302
‚Ä¢ –±—Ä–æ–π –±–∞–π—Ç–æ–≤–µ - 0
‚Ä¢ referer - "-" - –æ–≥—Ä–∞–¥–µ–Ω –≤ –¥–≤–æ–π–Ω–∏ –∫–∞–≤–∏—á–∫–∏, –ø–æ–¥–∞–≤–∞ —Å–µ –æ—Ç HTTP –∫–ª–∏–µ–Ω—Ç–∞, –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω –Ω–∏–∑
‚Ä¢ user agent - "Zend_Http_Client" - –æ–≥—Ä–∞–¥–µ–Ω –≤ –¥–≤–æ–π–Ω–∏ –∫–∞–≤–∏—á–∫–∏, –ø–æ–¥–∞–≤–∞ —Å–µ –æ—Ç HTTP –∫–ª–∏–µ–Ω—Ç–∞, –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω –Ω–∏–∑
–ó–∞ –≤—Å–µ–∫–∏ –æ—Ç top 3 —Å–∞–π—Ç–∞, –∫—ä–º –∫–æ–∏—Ç–æ –∏–º–∞ –Ω–∞–π-–º–Ω–æ–≥–æ –∑–∞—è–≤–∫–∏, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–¥–µ –≤ –¥–æ–ª–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç:
‚Ä¢ –±—Ä–æ–π –Ω–∞ HTTP/2.0 –∑–∞—è–≤–∫–∏—Ç–µ
‚Ä¢ –±—Ä–æ–π –Ω–∞ –Ω–µ-HTTP/2.0 –∑–∞—è–≤–∫–∏—Ç–µ
‚Ä¢ top 5 –∫–ª–∏–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∞–≤–∏–ª–∏ –Ω–∞–π-–º–Ω–æ–≥–æ –∑–∞—è–≤–∫–∏, –∑–∞–≤—ä—Ä—à–∏–ª–∏ —Å –∫–æ–¥, –ø–æ-–≥–æ–ª—è–º –æ—Ç 302 (–∏ –±—Ä–æ—è –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—Ç–µ –∏–º –∑—è–≤–∫–∏)
dir.bg HTTP/2.0: 0 non-HTTP/2.0: 5
del.bg HTTP/2.0: 5 non-HTTP/2.0: 0
5 94.228.82.170
2 34.73.112.204
1 185.217.0.138

```bash
#!/bin/bash

if [[ "${#}" -ne 1 ]] ; then
    echo "Invalid number of parameters"
    exit 1
fi

file="${1}"
if [[ ! -f "${file}" ]] ; then
    echo "Not a valid file"
    exit 2
fi

top_tree=$(cat "${file}" | cut -d ' ' -f 2 | sort | uniq -c | sort -nr  | head -n 3 | awk '{print $2}')

while read line ; do
    count1=$( grep "${line}" "${file}" | grep -E " HTTP/2.0 " | wc -l )
    count2=$( grep "${line}" "${file}" | grep -E -v " HTTP/2.0 " | wc -l )
    echo "${line} HTTP/2.0: ${count1} non-HTTP/2.0: ${count2}"
done <<< ${top_tree}


while read line ; do
    cat "${file}" | grep "${line}" | awk '$6 > 320 {print $0}' | cut -d ' ' -f 1 | sort | uniq -c | sort -nr  | head -n 5
done < <(cat "${file}" | cut -d ' ' -f 2 | sort | uniq -c | sort -nr | awk '{print $2}'  | head -n 5)

```

###  `2020-SE-06`
–ü–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª —â–µ —Ä–∞–∑–±–∏—Ä–∞–º–µ —Ñ–∞–π–ª, –≤ –∫–æ–π—Ç–æ –∏–º–∞ —Ä–µ–¥–æ–≤–µ –æ—Ç –≤–∏–¥–∞ key=value,
–∫—ä–¥–µ—Ç–æ key –∏ value –º–æ–≥–∞—Ç –¥–∞ —Å–µ —Å—ä—Å—Ç–æ—è—Ç –æ—Ç –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏ –∏ –∑–Ω–∞–∫ ‚Äú–¥–æ–ª–Ω–∞ —á–µ—Ä—Ç–∞‚Äù (‚Äú_‚Äù). –û—Å–≤–µ–Ω —Ç–æ–≤–∞, –≤—ä–≤
—Ñ–∞–π–ª–∞ –º–æ–∂–µ –¥–∞ –∏–º–∞ –ø—Ä–∞–∑–Ω–∏ —Ä–µ–¥–æ–≤–µ; –º–æ–∂–µ –¥–∞ –∏–º–∞ –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω whitespace –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –∏ –≤ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–æ–≤–µ—Ç–µ,
–∫–∞–∫—Ç–æ –∏ –æ–∫–æ–ª–æ —Å–∏–º–≤–æ–ª–∞ ‚Äú=‚Äù. –°—ä—â–æ —Ç–∞–∫–∞ —Å–∞ –¥–æ–ø—É—Å—Ç–∏–º–∏ –∏ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏ –≤ –¥–∞–¥–µ–Ω —Ä–µ–¥: –≤—Å–∏—á–∫–æ —Å–ª–µ–¥ —Å–∏–º–≤–æ–ª ‚Äú#‚Äù
—Å–µ –ø—Ä–∏–µ–º–∞ –∑–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä.
–ü–æ–¥ <date> —â–µ —Ä–∞–∑–±–∏—Ä–∞–º–µ —Ç–µ–∫—É—â–æ—Ç–æ –≤—Ä–µ–º–µ, –≤—ä—Ä–Ω–∞—Ç–æ –æ—Ç –∫–æ–º–∞–Ω–¥–∞—Ç–∞ date –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏; –ø–æ–¥ <user> —â–µ
—Ä–∞–∑–±–∏—Ä–∞–º–µ –∏–º–µ—Ç–æ –Ω–∞ —Ç–µ–∫—É—â–∏—è—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.
–ù–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç set_value.sh, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ 3 –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ ‚Äì –∏–º–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª, –∫–ª—é—á (foo) –∏ —Å—Ç–æ–π–Ω–æ—Å—Ç (bar). –ê–∫–æ –∫–ª—é—á—ä—Ç:
‚Ä¢ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞ –≤—ä–≤ —Ñ–∞–π–ª–∞ —Å –¥—Ä—É–≥–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞:
‚Äì –¥–∞ –∑–∞–∫–æ–º–µ–Ω—Ç–∏—Ä–∞ —Ç–æ–∑–∏ —Ä–µ–¥ –∫–∞—Ç–æ —Å–ª–æ–∂–∏ # –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ —Ä–µ–¥–∞ –∏ –¥–æ–±–∞–≤–∏ –≤ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–∞ # edited
at <date> by <user>
‚Äì –¥–∞ –¥–æ–±–∞–≤–∏ –Ω–æ–≤ —Ä–µ–¥ foo = bar # added at <date> by <user> —Ç–æ—á–Ω–æ —Å–ª–µ–¥ —Å—Ç–∞—Ä–∏—è —Ä–µ–¥
‚Ä¢ –Ω–µ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞ –≤—ä–≤ —Ñ–∞–π–ª–∞, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–æ–±–∞–≤–∏ —Ä–µ–¥ –æ—Ç –≤–∏–¥–∞ foo = bar # added at <date>
by <user> –Ω–∞ –∫—Ä–∞—è –Ω–∞ —Ñ–∞–π–ª–∞
–ü—Ä–∏–º–µ—Ä–µ–Ω foo.conf:
# route description
from = Sofia
to = Varna # my favourite city!
type = t2_1
–ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ:
./set_value.sh foo.conf to Plovdiv
17
–°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ foo.conf —Å–ª–µ–¥ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ:
# route description
from = Sofia
# to = Varna # my favourite city! # edited at Tue Aug 25 15:48:29 EEST 2020 by human
to = Plovdiv # added at Tue Aug 25 15:48:29 EEST 2020 by human
type = t2_1

```bash
#!/bin/bash

if [[ "${#}" -ne 3 ]] ; then
    echo "Invalid number of parameters"
    exit 1
fi

file="${1}"
if [[ ! -f "${file}" ]] ; then
    echo "Invalid first parameter: Should be a file"
    exit 2
fi

key="${2}"
value="${3}"

if [[ ! "${key}" =~ ^[a-zA-Z0-9_]+$ ]] ; then
    echo "Invalid key"
    exit 3
fi

if [[ ! "${value}" =~ ^[a-zA-Z0-9_]+$ ]] ; then
    echo "Invalid value"
    exit 4
fi

temp=$(mktemp)
while read line ; do
    if [[ ${line} =~ ^[[:space:]]*${key}[[:space:]]*=[[:space:]].*$ ]] ; then
        check_value=$(echo "${line}" | sed -E "s/^[[:space:]]*${key}[[:space:]]*=[[:space:]]*([^[:space:]]+).*$/\1/")
        if [[ "${check_value}" == "${value}" ]] ; then
            echo "${line}" >> "${temp}"
        else
            today=$(date)
            user=$(whoami)
            echo "${line}" | sed -E "s/^([[:space:]]*${key}[[:space:]]*=[[:space:]]*[^[:space:]]*.*)$/#\1 # edited at ${today} by ${user}/" >> "${temp}"
            echo "${key} = ${value} added at ${today} by ${user}" >> "${temp}"
        fi
    else
        echo "${line}" >> "${temp}"
    fi
done < "${file}"

mv "${temp}" "${file}"

```

###  `2022-IN-01`
–ö–∞–∫—Ç–æ –∑–Ω–∞–µ—Ç–µ, –ø—Ä–∏ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Ñ–∞–π–ª —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ vi, —Ç–æ–π —Å—ä–∑–¥–∞–≤–∞ –≤ —Å—ä—â–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤—Ä–µ–º–µ–Ω–µ–Ω —Ñ–∞–π–ª
—Å –∏–º–µ –≤ —Å–ª–µ–¥–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç: —Ç–æ—á–∫–∞, –∏–º–µ—Ç–æ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª, —Ç–æ—á–∫–∞, swp. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ
–Ω–∞ —Ñ–∞–π–ª —Å –∏–º–µ foo.txt —â–µ —Å–µ —Å—ä–∑–¥–∞–¥–µ –≤—Ä–µ–º–µ–Ω–µ–Ω —Ñ–∞–π–ª —Å –∏–º–µ .foo.txt.swp.
–ù–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ ‚Äì –∏–º–µ–Ω–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ: ./foo.sh ./dir1 /path/to/dir2/
–í dir1 –º–æ–∂–µ –¥–∞ –∏–º–∞ —Ñ–∞–π–ª–æ–≤–µ/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ dir2 —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø—Ä–∞–∑–Ω–∞.
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∫–æ–ø–∏—Ä–∞ –≤—Å–∏—á–∫–∏ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –æ—Ç dir1 (–∏ –Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏) –≤ dir2,
–∑–∞–ø–∞–∑–≤–∞–π–∫–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–æ –±–µ–∑ –¥–∞ –∫–æ–ø–∏—Ä–∞ –≤—Ä–µ–º–µ–Ω–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ, —Å—ä–∑–¥–∞–¥–µ–Ω–∏ –æ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
vi (–ø–æ –≥–æ—Ä–Ω–∞—Ç–∞ –¥–µ—Ñ–∏–Ω–∏—Ü–∏—è).
–ó–∞–±–µ–ª–µ–∂–∫–∞: –ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –Ω–µ –Ω–∏ –≤—ä–ª–Ω—É–≤–∞ –¥–∞–ª–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω–∏—Ç–µ –Ω–∞ –æ–±–µ–∫—Ç–∏—Ç–µ (owner, group,
permissions, etc.) —â–µ —Å–µ –∑–∞–ø–∞–∑—è—Ç.
–ü—Ä–∏–º–µ—Ä–Ω–∏ –æ–±–µ–∫—Ç–∏:
dir1/
dir1/a
dir1/.a.swp
dir1/b
dir1/c/d
dir1/c/.bar.swp
–û–±–µ–∫—Ç–∏ —Å–ª–µ–¥ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ:
dir2/
dir2/a
dir2/b
dir2/c/d
dir2/c/.bar.swp

```bash
#!/bin/bash

if [[ "${#}" -ne 2 ]] ; then
    echo "Invalid number of parameters"
    exit 1
fi

dir1="${1}"
dir2="${2}"

if [[ ! -d "${dir1}" ]] || [[ ! -d "${dir2}" ]] ; then
    echo "Parameters should be directories"
    exit 2
fi

if [[ $(find "${dir2}" -mindepth 1 | wc -l) -ne 0 ]] ; then
    echo "Second dir is not empty"
    exit 3
fi

dir1_realpath=$(realpath "${dir1}")

for file in $(find "${dir1}" -type f 2>/dev/null) ; do
    if [[ ${file} =~ ^.*\.swp$ ]] ; then
        continue
    fi
    file_path=$(realpath "${file}")
    path=$(echo "${file_path}" | sed -E "s:^${dir1_realpath}/::" )

    dir_path=$(echo "$path" | rev | cut -d '/' -f 2- | rev)

    mkdir -p "${dir2}/${dir_path}" 2>/dev/null
    cp "${file}" "${dir2}/${path}"
done
```

###  `2023-CE-02`
–í–∏–µ —Å—Ç–µ —á–∞—Å—Ç –æ—Ç –µ–∫–∏–ø –æ—Ç —Ñ–∏–∑–∏—Ü–∏ –æ—Ç –±—ä–¥–µ—â–µ—Ç–æ, –∫–æ–∏—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞—Ç –¥–∞–Ω–Ω–∏, —Å—ä–±—Ä–∞–Ω–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–Ω–∏ —Ç–æ—á–∫–∏ –≤ –∫–æ—Å–º–æ—Å–∞. –†–∞–∑–ø–æ–ª–∞–≥–∞—Ç–µ —Å —Ñ–∞–π–ª–æ–≤–µ —Å –¥–∞–Ω–Ω–∏, –∫–æ–∏—Ç–æ —Å—ä–¥—ä—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ—Ç–æ
–æ—Ç –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–Ω–∞ —Ç–æ—á–∫–∞ –¥–æ —Ä–∞–∑–ª–∏—á–Ω–∏ —á–µ—Ä–Ω–∏ –¥—É–ø–∫–∏ –≤ –∫–æ—Å–º–æ—Å–∞. –ï–¥–∏–Ω —Ä–µ–¥ –æ—Ç —Ç–∞–∫—ä–≤ —Ñ–∞–π–ª –∏–º–∞ —Å–ª–µ–¥–Ω–∏—è –≤–∏–¥:
<–∏–º–µ –Ω–∞ —á–µ—Ä–Ω–∞ –¥—É–ø–∫–∞>: <—Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ> megaparsecs
–ü—Ä–∏–º–µ—Ä–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ (point1.opt –æ—Ç–ª—è–≤–æ –∏ point2.opt –æ—Ç–¥—è—Å–Ω–æ)
Phoenix A: 1793 megaparsecs SMSS J215728.21-360215.1: 8211 megaparsecs
H1821+643: 900 megaparsecs Holmberg 15A: 195 megaparsecs
Holmberg 15A: 216 megaparsecs Phoenix A: 1823 megaparsecs
SMSS J215728.21-360215.1: 7665 megaparsecs Ton 618: 3211 megaparsecs
–í–∞—à–∞—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –æ—Ç –∫–æ–º–∞–Ω–¥–Ω–∏—è —Ä–µ–¥ (–∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –¥–≤–∞
—Ñ–∞–π–ª–∞ —Å –¥–∞–Ω–Ω–∏ –æ—Ç –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–Ω–∏ —Ç–æ—á–∫–∏ –∏ –∏–º–µ—Ç–æ –Ω–∞ —á–µ—Ä–Ω–∞ –¥—É–ø–∫–∞) –∏ –∏–∑–≤–µ–∂–¥–∞ –∫–æ—è –æ—Ç –¥–≤–µ—Ç–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–Ω–∏
—Ç–æ—á–∫–∏ —Å–µ –Ω–∞–º–∏—Ä–∞ –ø–æ-–±–ª–∏–∑–æ –¥–æ —á–µ—Ä–Ω–∞—Ç–∞ –¥—É–ø–∫–∞.
–ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ:
```bash
$ ./find_closest_point.sh point1.opt point2.opt 'Phoenix A'
point1.opt
```

```bash
#!/bin/bash

if [[ "${#}" -ne 3 ]] ; then
    echo "Invalid number of parameters"
    exit 1
fi

file1="${1}"
file2="${2}"
if [[ ! -f "${file1}" ]] || [[ ! -f "${file2}" ]] ; then
    echo "Invalid file"
    exit 2
fi

black_hole="${3}"
if [[ -z "${black_hole}" ]] ; then
    echo "Invalid name"
    exit 3
fi


res1=$(cat "${file1}" | grep "${black_hole}" | sed -E "s/^[^:]*:[[:space:]*]([0-9]+) megaparsecs$/\1/g" )
res2=$(cat "${file2}" | grep "${black_hole}" | sed -E "s/^[^:]*:[[:space:]*]([0-9]+) megaparsecs$/\1/g")

if [[ "${res1}" > ${res2} ]] ; then
    echo "${file1}"
if [[ "${res1}" == ${res2} ]] ; then
    echo "Equal"
else
    echo "${file2}"
fi
```

###  `2025-IN-01`
–í–∞—à–∏—Ç–µ –∫–æ–ª–µ–≥–∏ –æ—Ç —Å—ä—Å–µ–¥–Ω–∞—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Ç—Ä—è–±–≤–∞ –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ –¥–∞ –ø—Ä–æ–º–µ–Ω—è—Ç –ø—Ä–∞–≤–∞—Ç–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –æ–±–µ–∫—Ç–∏
–≤—ä–≤ —Ñ–∞–π–ª–æ–≤–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –±–∞–∑–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è. –í—Å–µ–∫–∏
—Ä–µ–¥ –Ω–∞ —Ñ–∞–π–ª–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –ø—Ä–∞–≤–∏–ª–æ, –∫–æ–µ—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω–æ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç —Ç—Ä–∏ –Ω–∏–∑–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace.
–ü—Ä–∏–º–µ—Ä–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–∞:
/tmp/one R 700
/tmp/two A 700
/tmp/four A 750
/tmp/twenty T 750
38
–í—Å—è–∫–æ –ø—Ä–∞–≤–∏–ª–æ –æ–ø–∏—Å–≤–∞ –Ω–∞ –∫–æ–∏ –æ–±–µ–∫—Ç–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç –ø—Ä–∞–≤–∞—Ç–∞, –∫–∞—Ç–æ —Ç—Ä–∏—Ç–µ –Ω–∏–∑–∞ –æ–ø—Ä–µ–¥–µ–ª—è—Ç:
‚Ä¢ –Ω–∞—á–∞–ª–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤ –∫–æ—è—Ç–æ –¥–∞ —Å–µ —Ç—ä—Ä—Å—è—Ç –æ–±–µ–∫—Ç–∏ –∑–∞ —Ç–æ–≤–∞ –ø—Ä–∞–≤–∏–ª–æ; –Ω–µ —Å—ä–¥—ä—Ä–∂–∞ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏;
‚Ä¢ —Ç–∏–ø ‚Äì –µ–¥–Ω–∞ –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ —Ç—Ä–∏ –±—É–∫–≤–∏, –∫–æ—è—Ç–æ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –∫–∞–∫ —Å–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–∞—Ç –±–∏—Ç–æ–≤–µ—Ç–µ –≤ —Ç—Ä–µ—Ç–∏—è –Ω–∏–∑:
‚Äì R (raw) ‚Äì –æ–±–µ–∫—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ —Ç–æ—á–Ω–æ —Ç–µ–∑–∏ –±–∏—Ç–æ–≤–µ –∑–∞ –ø—Ä–∞–≤–∞
‚Äì A (any) ‚Äì –æ–±–µ–∫—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ –≤–¥–∏–≥–Ω–∞—Ç –ø–æ–Ω–µ –µ–¥–∏–Ω –æ—Ç —É–∫–∞–∑–∞–Ω–∏—Ç–µ –±–∏—Ç–æ–≤–µ
‚Äì T (target) ‚Äì –æ–±–µ–∫—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ –≤–¥–∏–≥–Ω–∞—Ç–∏ –≤—Å–∏—á–∫–∏—Ç–µ —É–∫–∞–∑–∞–Ω–∏ –±–∏—Ç–æ–≤–µ
‚Ä¢ –¥–µ–≤–µ—Ç –±–∏—Ç–∞, –¥–µ—Ñ–∏–Ω–∏—Ä–∞—â–∏ –ø—Ä–∞–≤–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø –≤—ä–≤ —Ñ–∞–π–ª–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–µ–Ω–∏ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—è
–Ω–∞—á–∏–Ω –∫–∞—Ç–æ —Ç—Ä–∏—Ü–∏—Ñ—Ä–µ–Ω–æ —á–∏—Å–ª–æ –≤ –æ—Å–º–∏—á–Ω–∞ –±—Ä–æ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞.
–ù–∞–ø–∏—à–µ—Ç–µ bash —Å–∫—Ä–∏–ø—Ç perm.sh, –∫–æ–π—Ç–æ –ø–æ –ø–æ–¥–∞–¥–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äì –∏–º–µ –Ω–∞ —Ñ–∞–π–ª —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∞–∫–æ —Å–µ
–∏–∑–ø—ä–ª–Ω—è–≤–∞ –æ—Ç root –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∏–∑–≤—ä—Ä—à–≤–∞ –Ω–µ–æ–±—Ö–æ–¥–º–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–∏ –Ω–∞ –ø—Ä–∞–≤–∞—Ç–∞ –ø—Ä–∏ —Å–ª–µ–¥–Ω–∏—Ç–µ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è:
‚Ä¢ –ø—Ä–∞–≤–∏–ª–∞—Ç–∞ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç –∏ –ø—Ä–∏–ª–∞–≥–∞—Ç –ª–∏–Ω–µ–π–Ω–æ;
‚Ä¢ –∫–∞—Ç–æ –æ–±–µ–∫—Ç–∏ –≤—ä–≤ —Ñ–∞–π–ª–æ–≤–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç —Å–∞–º–æ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏;
‚Ä¢ –≤—Å–∏—á–∫–∏ –æ–±–µ–∫—Ç–∏ –±–∏—Ö–∞ –º–æ–≥–ª–∏ –¥–∞ –∏–º–∞—Ç —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏ –≤ –∏–º–µ—Ç–æ —Å–∏;
‚Ä¢ –Ω–∞—á–∞–ª–Ω–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–µ —Å–µ —Ç—Ä–µ—Ç–∏—Ä–∞—Ç –∫–∞—Ç–æ –æ–±–µ–∫—Ç–∏, —á–∏–∏—Ç–æ –ø—Ä–∞–≤–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç.
–ü—Ä–∞–≤–∞—Ç–∞ –Ω–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏—Ç–µ –æ–±–µ–∫—Ç–∏ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç –Ω–∞ –∫–∞–∫–≤–∏—Ç–æ –±–∏—Ö–∞ –±–∏–ª–∏, –∞–∫–æ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è –æ–±–µ–∫—Ç –µ –±–∏–ª —Å—ä–∑–¥–∞–¥–µ–Ω —Å –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ umask-–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–æ:
‚Ä¢ 022 –∑–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏
‚Ä¢ 002 –∑–∞ —Ñ–∞–π–ª–æ–≤–µ.

```bash
#!/bin/bash

if [[ "${#}" -ne 1 ]] ;
then
    echo "Invalid number of perameters"
    exit 1
fi

file="${1}"
if [[ ! -f "${file}" ]] ;
then
    echo "Not a valid file"
    exit 2
fi

if [[ $(id -u) -ne 0 ]] ; then
    echo "Only root can execute this script"
    exit 3
fi

validate() {
    if [[ "${1}" != 'R' && "${1}" != 'A' && "${1}" != 'T' ]] ;
    then 
        echo "Invalid type"
        return 1
    fi
    
    if [[ ! -d "${2}" ]] ; then
        echo "Not a valid directory"
        return 2
    fi

    if [[ "${3}" -lt 0 ]] || [[ "${3}" -gt 777 ]] ; then
        echo "Invalid parameters"
        return 3
    fi
    return 0
}

extract_field() {
  echo "${1}" | cut -d ' ' -f "${2}" 
}

find_files() {
    if [[ "${2}" == 'R' ]] ;
        find "${1}" -mindepth 1 \( -type f -o -type d \) -perm "${3}"
        return 0
    elif [[ "${2}" == 'A' ]] ;
        find "${1}" -mindepth 1 \( -type f -o -type d \) -perm /"${3}"
        return 0
    elif [[ "${2}" == 'T' ]] ;
        find "${1}" -mindepth 1 \(-type f -o -type d \) -perm -"${3}"
        return 0
    fi
    return 1
}

while IFS= read -r line ;
do 
    dir=$(extract_field "${line}" 1) 
    t=$(extract_field "${line}" 2) 
    perms=$(extract_field "${line}" 3)

    validate "${t}" "${dir}" "${perms}"
    if [[ $? -ne 0 ]] ; then
        echo "Skipping..."
        continue
    fi
    
    find_files "${dir}" "${t}" "${perms}" | while IFS= read -r -d '' file; do
        if [[ -f "${file}" ]] ;
        then 
            chmod 775 "${file}"
        elif [[ -d "${file}" ]] ;
        then 
            chmod 755 "${file}"
        fi
    done
done < "${file}"
```