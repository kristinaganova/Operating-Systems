## Shell Tasks Archive

###  `2016-SE-02`
2016-SE-02 –ù–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –µ–¥–∏–Ω –ø–æ–∑–∏—Ü–∏–æ–Ω–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä - —á–∏—Å–ª–æ. –ê–∫–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç
—Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –∫–∞—Ç–æ root, –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –æ–±–æ–±—â–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –æ–±—â–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞–º–µ—Ç (RSS
- resident set size, non-swapped physical memory that a task has used) –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –Ω–∞ –≤—Å–µ–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.
–ê–∫–æ –∑–∞ –Ω—è–∫–æ–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –æ–±–æ–±—â–µ–Ω–æ—Ç–æ —á–∏—Å–ª–æ –Ω–∞–¥–≤–∏—à–∞–≤–∞ –ø–æ–¥–∞–¥–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—ä—Ä, –¥–∞ –∏–∑–ø—Ä–∞—â–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏
—Å–∏–≥–Ω–∞–ª–∏ –∑–∞ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∞ —Å –Ω–∞–π-–º–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞–º–µ—Ç –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.
–ó–∞–±–µ–ª–µ–∂–∫–∞: –ü—Ä–∏–µ–º–∞–º–µ, —á–µ –∏–∑—Ö–æ–¥–∞ –≤ –∫–æ–ª–æ–Ω–∞—Ç–∞ RSS –µ —á–∏—Å–ª–æ –≤ —Å—ä—â–∞—Ç–∞ –º–µ—Ä–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞, –∫–∞—Ç–æ —á–∏—Å–ª–æ—Ç–æ, –ø–æ–¥–∞–¥–µ–Ω–æ –∫–∞—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç. –ü—Ä–∏–º–µ—Ä–µ–Ω —Ñ–æ—Ä–º–∞—Ç:
5
USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND
root 1 0.0 0.0 15816 1884 ? Ss May12 0:03 init [2]
root 2 0.0 0.0 0 0 ? S May12 0:00 [kthreadd]
root 3 0.0 0.0 0 0 ? S May12 0:02 [ksoftirqd/0]
–ó–∞–±–µ–ª–µ–∂–∫–∞: –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–µ –¥–∞ –ø–æ–ª–∑–≤–∞—Ç–µ –∏–∑—Ö–æ–¥–∞ –æ—Ç ps -e -o uid,pid,rss

```bash
#!/bin/bash

if [[ $(id -u) -ne 0 ]] ; then
    echo "This script can only be run by root"
    exit 1
fi

if [[ "${#}" -ne 1 ]] ; then
    echo "Exprected 1 argument - number"
    exit 2
fi

num="${1}"
if [[ ! "${num}" =~ ^[-]?[0-9]+$ ]] ; then
    echo "Parameter should be a number"
    exit 3
fi

result=$(ps -e -o uid=,pid=,rss= | sort -k 1n)

for user in $(echo "${result}" | awk '{print $1}' | sort | uniq) ; do
    sum=$(ps -e -o uid=,pid=,rss= | grep -E "^${user}" | awk '{sum+=$3} END {print sum}' )
    if [[ "${sum}" -gt "${1}" ]] ; then
        toKill=$(echo "${result}" | grep -E "^${user}" | sort -k 3 -t ' ' -r | head -n 1 | awk '{print $2}')
        kill -9 "${toKill}"
    fi
done
```

---

###  `2017-IN-02`
2017-IN-02 –ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω –ø–æ–∑–∏—Ü–∏–æ–Ω–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç - –∏–º–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª
FOO. –ê–∫–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –æ—Ç root:
–∞) –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ, –∫–æ–∏—Ç–æ –∏–º–∞—Ç –ø–æ–≤–µ—á–µ –Ω–∞ –±—Ä–æ–π –ø—Ä–æ—Ü–µ—Å–∏ –æ—Ç FOO, –∞–∫–æ –∏–º–∞ —Ç–∞–∫–∏–≤–∞;
–±) –¥–∞ –∏–∑–≤–µ–∂–¥–∞ —Å—Ä–µ–¥–Ω–æ—Ç–æ –≤—Ä–µ–º–µ (–≤ —Å–µ–∫—É–Ω–¥–∏), –∑–∞ –∫–æ–µ—Ç–æ —Å–∞ —Ä–∞–±–æ—Ç–∏–ª–∏ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
–Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ (TIME, –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç HH:MM:SS);
–≤) –∞–∫–æ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –ø—Ä–æ—Ü–µ—Å–∏ –Ω–∞ FOO, –∫–æ–∏—Ç–æ —Å–∞ —Ä–∞–±–æ—Ç–∏–ª–∏ –Ω–∞–¥ –¥–≤–∞ –ø—ä—Ç–∏ –ø–æ–≤–µ—á–µ –æ—Ç —Å—Ä–µ–¥–Ω–æ—Ç–æ –≤—Ä–µ–º–µ,
—Å–∫—Ä–∏–ø—Ç—ä—Ç –¥–∞ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –∏–º –ø–æ –ø–æ–¥—Ö–æ–¥—è—â –Ω–∞—á–∏–Ω.
–ó–∞ —Å–ø—Ä–∞–≤–∫–∞:

```bash
$ ps -e -o user,pid,%cpu,%mem,vsz,rss,tty,stat,time,command | head -5
USER PID %CPU %MEM VSZ RSS TT STAT TIME COMMAND
root 1 0.0 0.0 15820 1920 ? Ss 00:00:05 init [2]
root 2 0.0 0.0 0 0 ? S 00:00:00 [kthreadd]
root 3 0.0 0.0 0 0 ? S 00:00:01 [ksoftirqd/0]
root 5 0.0 0.0 0 0 ? S< 00:00:00 [kworker/0:0H]
```

```bash
#!/bin/bash

if [[ "${#}" -ne 1 ]] ; then 
    echo "One argument expected"
    exit 1
fi

if [[ $(id -u) -ne 0 ]] ; then 
    echo "Only root can execute"
    exit 2
fi

user="${1}"
grep -q "${user}" <(cat /etc/passwd | cut -d ':' -f 1)
if [[ $? -ne 0 ]] ; then
    echo "Invalid user"
    exit 2
fi

processes=$(ps -e -o user=,time=,pid=)
user_processes=$(echo "${processes}" | grep -E "${user}" | wc -l )

#a)

while read line ; do
    user_to_compare=$(echo "${line}" | awk '{print $2}')
    count=$(echo "${line}" | awk  '{print $1}')
    if [[ "${user_to_compare}" == "${user}" || "${count}" -lt "${user_processes}" ]] ; then 
        continue
    fi

    echo "${line}" | cut -d ' ' -f 2

done < <(echo "${processes}" | awk '{print $1}' | sort | uniq -c )

#b)

time=$(echo "${line}" | awk '{print $2}')
count=0
while read line ; do
    count=$((count + 1))
    hours=$(echo "${line}" | cut -d ':' -f 1)
    minutes=$(echo "${line}" | cut -d ':' -f 2)
    seconds=$(echo "${line}" | cut -d ':' -f 3)
    secs=$((hours*3600 + minutes*60 + seconds))
    result=$((result + secs))
done < <(echo "${time}")

echo "${result} / ${count} " | bc
$((result*=2))
while read line ; do
    seconds=$(ech–æ "${line}" | awk '{print $2}' | sed 's/:/*3600/' | sed 's/:/*60/' | bc )

    if [[ "${seconds}" -gt $((result*=2)) ]] ; then
        kill -9 $(echo "${line}" | awk '{print $3}')
    fi
done < <(echo "${user_processes}" | awk '{print $1,$2}')
```
---


###  `2017-SE-03`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –∞–∫–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –æ—Ç root –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è:
–∞) –∏–∑–≤–µ–∂–¥–∞ –æ–±–æ–±—â–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –±—Ä–æ—è –∏ –æ–±—â–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞–º–µ—Ç (RSS - resident set
size, non-swaped physical memory that a task has used) –Ω–∞ —Ç–µ–∫—É—â–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å–∏ –Ω–∞ –≤—Å–µ–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª;
–±) –∞–∫–æ –ø—Ä–æ—Ü–µ—Å—ä—Ç —Å –Ω–∞–π-–≥–æ–ª—è–º–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞–º–µ—Ç –Ω–∞ –¥–∞–¥–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –∏–∑–ø–æ–ª–∑–≤–∞ –¥–≤–∞ –ø—ä—Ç–∏ –ø–æ–≤–µ—á–µ –ø–∞–º–µ—Ç
–æ—Ç —Å—Ä–µ–¥–Ω–æ—Ç–æ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, —Ç–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç –¥–∞ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –º—É –ø–æ –ø–æ–¥—Ö–æ–¥—è—â –Ω–∞—á–∏–Ω.
–ó–∞ —Å–ø—Ä–∞–≤–∫–∞:

```bash
$ ps aux | head -5
USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND
root 1 0.0 0.0 15820 1052 ? Ss Apr21 0:06 init [2]
root 2 0.0 0.0 0 0 ? S Apr21 0:00 [kthreadd]
root 3 0.0 0.0 0 0 ? S Apr21 0:02 [ksoftirqd/0]
root 5 0.0 0.0 0 0 ? S< Apr21 0:00 [kworker/0:0H]
–ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–µ –¥–∞ –ø–æ–ª–∑–≤–∞—Ç–µ –∏–∑—Ö–æ–¥–∞ –æ—Ç ps -e -o uid,pid,rss
```

```bash

#!/bin/bash

processes=$(ps -e -o user=,rss=,pid=)
users=$(echo "${processes}" | awk '{print $1}' | sort | uniq)

temp=$(mktemp)
while read user ; do
    count=$(echo "${processes}" | grep "${user}" | wc -l)
    sum=$(echo "${processes}" | grep "${user}" | awk '{sum+=$2} END {print sum}' )
    avg=$(echo "${sum} / ${count}" | bc )
    echo "${user} ${avg}" >> ${temp}
    echo "${user} count: ${count} rss count: ${sum}"
done < <(echo "${users}")

while read user ; do
    avg=$(echo "$temp" | grep "${user}" | cut -d ' ' -f 2)
    user_processes=$(echo "${processes}" | grep "$user")
    while read process ; do
        rss=$(echo "${process}" | awk '{print $2}')
        if [[ "${rss}" -gt $((2 * "${avg}")) ]] ; then 
            kill -9 $(echo "${process}" | awk '{print $3}')      
        else 
            continue
        fi
    done <<< "${user_processes}"
    
done <<< "${users}"

rm "${temp}"
```

---


###  `2017-SE-06`
 –ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –∞–∫–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –æ—Ç root –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –Ω–∞–º–∏—Ä–∞ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –Ω–∞
–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ, –∫–æ–∏—Ç–æ –Ω–µ —Å–∞ root –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏ –µ –∏–∑–ø—ä–ª–Ω–µ–Ω–æ –ø–æ–Ω–µ –µ–¥–Ω–æ –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ –Ω–µ—â–∞:
‚Ä¢ –∏–º–∞—Ç –∑–∞–¥–∞–¥–µ–Ω–∞ –Ω–µ—Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∞ home –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è;
‚Ä¢ –Ω–µ —Å–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∏—Ü–∏ –Ω–∞ home –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ —Å–∏;
‚Ä¢ —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –ø–∏—à–µ –≤ –Ω–µ—è.
–ê–∫–æ –æ–±—â–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞–º–µ—Ç (RSS - resident set size, non-swaped physical memory that a task has
used) –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –Ω–∞ –¥–∞–¥–µ–Ω —Ç–∞–∫—ä–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –µ –ø–æ-–≥–æ–ª—è–º–æ –æ—Ç –æ–±—â–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞–º–µ—Ç –Ω–∞
root –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, —Ç–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç –¥–∞ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –≤—Å–∏—á–∫–∏ –ø—Ä–æ—Ü–µ—Å–∏ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.
–ó–∞ —Å–ø—Ä–∞–≤–∫–∞:
```
$ ps aux | head -n 5
USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND
root 1 0.0 0.0 15820 1052 ? Ss Apr21 0:06 init [2]
root 2 0.0 0.0 0 0 ? S Apr21 0:00 [kthreadd]
root 3 0.0 0.0 0 0 ? S Apr21 0:02 [ksoftirqd/0]
root 5 0.0 0.0 0 0 ? S< Apr21 0:00 [kworker/0:0H]
–ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–µ –¥–∞ –ø–æ–ª–∑–≤–∞—Ç–µ –∏–∑—Ö–æ–¥–∞ –æ—Ç ps -e -o uid,pid,rss
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
s61934:x:1177:504:Mariq Cholakova:/home/SI/s61934:/bin/bash
```

```bash
#!/bin/bash

processes=$(ps -e -o user=,pid=,rss=)
users=$(echo "${processes}" | awk '{print $1}' | grep -v "root" | sort | uniq )

temp=$(mktemp)
while read user ; do
    home_dir=$(cat /etc/passwd | grep "${user}" | cut -d ':' -f 6)
    sum=$(echo "${processes}" | grep "${user}" | awk '{sum+=$3} END {print sum}')
    if [[ ! -e "${home_dir}" ]] ; then
        echo "${user} ${sum}" >> "${temp}"
        continue
    fi

    if [[ $(stat -c '%U' "${home_dir}") != "${user}" ]]
        echo "${user} ${sum}" >> "${temp}"
        continue
    fi

    if [[ $(stat -c '%A' "${home_dir}" | cut -c 3) != 'w' ]] ; then
        echo "${user} ${sum}" >> "${temp}"
        continue
    fi
done <<< "${users}"

root_sum=$(echo "${processes}" | grep "root" | awk '{sum+=$3} END {print sum}')

while read line ; do
    if [[ $(echo "${line}" | cut -d ' ' -f 2) -gt "${root_sum}" ]] ; then
        kill -9 $(echo "${processes}" | grep "${user}" | awk '{print $2}')
    fi
done <<< "${temp}"

```

---


###  `2018-SE-01`
–ù–µ–∫–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ –º–æ–º–µ–Ω—Ç–Ω–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è (Instant messaging), –∫–æ—è—Ç–æ –∑–∞–ø–∏—Å–≤–∞
–ª–æ–≥–æ–≤–µ –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏—Ç–µ –≤ —Å–ª–µ–¥–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç:
‚Ä¢ –∏–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞ –ª–æ–≥–æ–≤–µ (LOGDIR)
‚Ä¢ –≤ –Ω–µ—è –∏–º–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç —Å–ª–µ–¥–Ω–∏—è –≤–∏–¥:
LOGDIR/–ø—Ä–æ—Ç–æ–∫–æ–ª/–∞–∫–∞—É–Ω—Ç/–ø—Ä–∏—è—Ç–µ–ª/
–∫–∞—Ç–æ –Ω–∞ –≤—Å—è–∫–æ –Ω–∏–≤–æ –º–æ–∂–µ –¥–∞ –∏–º–∞ –Ω—è–∫–æ–ª–∫–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –æ—Ç —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è –≤–∏–¥, —Ç.–µ. –Ω—è–∫–æ–ª–∫–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
–ø—Ä–æ—Ç–æ–∫–æ–ª, –≤—ä–≤ –≤—Å—è–∫–∞ –æ—Ç —Ç—è—Ö –º–æ–∂–µ –¥–∞ –∏–º–∞ –Ω—è–∫–æ–ª–∫–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∞–∫–∞—É–Ω—Ç, –∏ –≤—ä–≤ –≤—Å—è–∫–∞ –æ—Ç —Ç—è—Ö ‚Äì –Ω—è–∫–æ–ª–∫–æ
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏—è—Ç–µ–ª
‚Ä¢ –≤—ä–≤ –≤—Å—è–∫–∞ –æ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏—Ç–µ –ø—Ä–∏—è—Ç–µ–ª –º–æ–∂–µ –¥–∞ –∏–º–∞ —Ñ–∞–π–ª–æ–≤–µ —Å –∏–º–µ–Ω–∞ –æ—Ç –≤–∏–¥–∞ yyyy-mm-dd-hh-mmss.txt ‚Äì –≥–æ–¥–∏–Ω–∞-–º–µ—Å–µ—Ü-–¥–µ–Ω –∏ —Ç.–Ω., —Å–ø—Ä—è–º–æ —Ç–æ–≤–∞ –∫–æ–≥–∞ –µ –∑–∞–ø–æ—á–Ω–∞–ª –¥–∞–¥–µ–Ω —Ä–∞–∑–≥–æ–≤–æ—Ä
‚Ä¢ –≤—Å–µ–∫–∏ —Ç–∞–∫—ä–≤ —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –ª–æ–≥ –Ω–∞ –¥–∞–¥–µ–Ω —Ä–∞–∑–≥–æ–≤–æ—Ä —Å—ä—Å —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è –ø—Ä–∏—è—Ç–µ–ª, –∫–∞—Ç–æ –≤—Å—è–∫–∞ —Ä–∞–∑–º–µ–Ω–µ–Ω–∞ —Ä–µ–ø–ª–∏–∫–∞ –º–µ–∂–¥—É –≤–∞—Å –µ –Ω–∞ –æ—Ç–¥–µ–ª–µ–Ω —Ä–µ–¥
‚Ä¢ –¥–∞–¥–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—è—Ç–µ–ª –º–æ–∂–µ –¥–∞ —Å–µ —Å—Ä–µ—â–∞ –Ω—è–∫–æ–ª–∫–æ –ø—ä—Ç–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ (–Ω–∞–ø—Ä. –ø—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω–∏ –≤–∞—à–∏ –∞–∫–∞—É–Ω—Ç–∏ —Å—Ç–µ –≤–æ–¥–∏–ª–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏ —Å—ä—Å —Å—ä—â–∏—è –ø—Ä–∏—è—Ç–µ–ª)
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω –ø–æ–∑–∏—Ü–∏–æ–Ω–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç - –∏–º–µ –Ω–∞ –ª–æ–≥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (LOGDIR).
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –¥–µ—Å–µ—Ç–∏–º–∞—Ç–∞ –ø—Ä–∏—è—Ç–µ–ª–∏, —Å –∫–æ–∏—Ç–æ –∏–º–∞—Ç–µ –Ω–∞–π-–º–Ω–æ–≥–æ —Ä–µ–¥–æ–≤–µ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è –≥–ª–æ–±–∞–ª–Ω–æ (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ –∞–∫–∞—É–Ω—Ç), –∏ –∫–æ–ª–∫–æ —Ä–µ–¥–∞ –∏–º–∞—Ç–µ —Å –≤—Å–µ–∫–∏ –æ—Ç —Ç—è—Ö. –û–ø–∏—à–µ—Ç–µ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä –∫–∞–∫
—Ä–∞–±–æ—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç—ä–º—ä—Ç –≤–∏.

```bash
#!/bin/bash

if [[ "${#}" -ne 1 ]] ; then
    echo "Invalid number of arguments"
    exit 1
fi

dir=${1}
if [[ ! -d "${dir}" ]] ; then
    echo "Not a valid directory"
    exit 2
fi

friends=$(find "${dir}" -mindepth 4 -maxdepth 4 -type f | cut -d '/' -f 4 | sort | uniq)
files=$(find "${dir}" -type f)

temp=$(mktemp)
while read friend ; do
    conversations=$(echo "${files}" | grep -E "^([^\/]*\/){3}${friend}\/[0-9]{4}-([0-9]{2}-){4}[0-9]{2}\.txt$" )
    lines=$(cat ${conversations} | wc -l)
    echo "${friend} ${lines}" >> "${temp}"
done < <(echo "${friends}")
cat ${temp} | sort -n -r -k 2 -t ' ' | head -n 10

```

---


###  `2021-SE-02`
–ï–¥–∏–Ω –æ—Ç —á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ DNS —Å—ä—Ä–≤—ä—Ä–∏ –µ BIND9, –ø—Ä–∏ –∫–æ–π—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ—Ç–æ –Ω–∞ DNS –∑–æ–Ω–∏—Ç–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–æ —Å—Ç–æ–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª–æ–≤–µ, –Ω–∞—Ä–∏—á–∞–Ω–∏ –∑–æ–Ω–∞–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ. –ó–∞ —É–ª–µ—Å–Ω–µ–Ω–∏–µ, –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞, —â–µ
–ø–æ–ª–∑–≤–∞–º–µ –æ–ø—Ä–æ—Å—Ç–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ.
–ü–æ–¥ whitespace —Ä–∞–∑–±–∏—Ä–∞–º–µ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç —Ç–∞–±–æ–≤–µ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏.
–ü–æ–¥ FQDN —Ä–∞–∑–±–∏—Ä–∞–º–µ –Ω–∏–∑, –∫–æ–π—Ç–æ –∏–º–∞ –¥–æ–ø—É—Å—Ç–∏–º–∏ —Å–∏–º–≤–æ–ª–∏ –º–∞–ª–∫–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏ –∏ —Ç–æ—á–∫–∞; –Ω–µ
–º–æ–∂–µ –¥–∞ –∑–∞–ø–æ—á–≤–∞ —Å —Ç–æ—á–∫–∞, –Ω–µ –º–æ–∂–µ –¥–∞ –∏–º–∞ –¥–≤–µ –∏–ª–∏ –ø–æ–≤–µ—á–µ —Å—ä—Å–µ–¥–Ω–∏ —Ç–æ—á–∫–∏, –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∑–∞–≤—ä—Ä—à–≤–∞ —Å
—Ç–æ—á–∫–∞.
–ó–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ —Å—ä–¥—ä—Ä–∂–∞—Ç —Ä–µ—Å—É—Ä—Å–Ω–∏ –∑–∞–ø–∏—Å–∏, –ø–æ –µ–¥–∏–Ω –Ω–∞ —Ä–µ–¥. –û–±—â–∏—è—Ç –≤–∏–¥ –Ω–∞ –¥–∞–¥–µ–Ω —Ä–µ—Å—É—Ä—Å–µ–Ω –∑–∞–ø–∏—Å e
<–∫–ª—é—á> <TTL> <–∫–ª–∞—Å> <—Ç–∏–ø> <RDATA>, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace, –Ω–∞–ø—Ä–∏–º–µ—Ä:
astero.openfmi.net. 3600 IN A 185.117.82.99
–ö—ä–¥–µ—Ç–æ:
‚Ä¢ –∫–ª—é—á (astero.openfmi.net.) ‚Äì FQDN
‚Ä¢ TTL (3600) ‚Äì —Ü–∏—Ñ—Ä–∏; –ø–æ–ª–µ—Ç–æ –º–æ–∂–µ –¥–∞ –ª–∏–ø—Å–≤–∞
‚Ä¢ –∫–ª–∞—Å (IN) - –≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏; –∫–ª–∞—Å—ä—Ç –≤–∏–Ω–∞–≥–∏ –µ IN
‚Ä¢ —Ç–∏–ø (A) - –≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏; –Ω—è–∫–æ–µ –æ—Ç SOA, NS, A, AAAA
‚Ä¢ RDATA (185.117.82.99) - –¥–∞–Ω–Ω–∏ –Ω–∞ –∑–∞–ø–∏—Å–∞; —Ä–∞–∑–ª–∏—á–Ω–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ —Ç–∏–ø–æ–≤–µ —Ä–µ—Å—É—Ä—Å–Ω–∏ –∑–∞–ø–∏—Å–∏;
–≤—Å–∏—á–∫–æ —Å–ª–µ–¥ —Ç–∏–ø–∞ –¥–æ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–∞.

–ó–Ω–∞–∫—ä—Ç —Ç–æ—á–∫–∞-–∏-–∑–∞–ø–µ—Ç–∞—è ; –µ –∑–Ω–∞–∫ –∑–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä, –∏ –≤—Å–∏—á–∫–æ —Å–ª–µ–¥ –Ω–µ–≥–æ –¥–æ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–∞ —Å–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞.
–í—ä–≤ –≤—Å–µ–∫–∏ –∑–æ–Ω–∞–ª–µ–Ω —Ñ–∞–π–ª —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ —Ç–æ—á–Ω–æ –µ–¥–∏–Ω SOA –∑–∞–ø–∏—Å, –∏ —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø—ä—Ä–≤–∏—è—Ç –∑–∞–ø–∏—Å –≤—ä–≤
—Ñ–∞–π–ª–∞. –ü—Ä–∏–º–µ—Ä –∑–∞ –µ–¥–Ω–æ—Ä–µ–¥–æ–≤ SOA –∑–∞–ø–∏—Å:
openfmi.net. 3600 IN SOA nimbus.fccf.net. root.fccf.net. 2021041901 86400 7200 3024000 3600
RDATA-—Ç–∞ –Ω–∞ SOA –∑–∞–ø–∏—Å —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –¥–≤–∞ FQDN-–∞ –∏ –ø–µ—Ç —á–∏—Å–ª–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace.
–í—ä–ø—Ä–µ–∫–∏, —á–µ –≥–æ—Ä–Ω–æ—Ç–æ –µ –≤–∞–ª–∏–¥–µ–Ω SOA –∑–∞–ø–∏—Å, –∑–∞ –ø—Ä–µ–≥–ª–µ–¥–Ω–æ—Å—Ç –≤ –∑–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ —á–µ—Å—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞ —Å–ª–µ–¥–Ω–∏—è—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (–º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤ SOA –∑–∞–ø–∏—Å, –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –Ω–∞ –≥–æ—Ä–Ω–∏—è):
openfmi.net. 3600 IN SOA nimbus.fccf.net. root.fccf.net. (
2021041901 ; serial
86400 ; refresh
7200 ; retry
3024000 ; expire
3600 ; negative TTL
)
—Ç.–µ., –ø–æ—Ä–µ–¥–∏—Ü–∞—Ç–∞ –æ—Ç —á–∏—Å–ª–∞ —Å–µ —Ä–∞–∑–±–∏–≤–∞ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ —Ä–µ–¥–∞, –æ–≥—Ä–∞–¥–µ–Ω–∏ –≤ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–∏ —Å–∫–æ–±–∏, –∏ –∑–∞ –≤—Å—è–∫–æ —á–∏—Å–ª–æ
—Å–µ —Å–ª–∞–≥–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä –∫–∞–∫–≤–æ –æ–∑–Ω–∞—á–∞–≤–∞.
–ü—ä—Ä–≤–æ—Ç–æ –æ—Ç —Ç–µ–∑–∏ —á–∏—Å–ª–∞ (serial) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –Ω–∞ –∑–æ–Ω–∞—Ç–∞, –∫–æ–π—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —É–≤–µ–ª–∏—á–∞–≤–∞
–≤—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ –Ω–µ—â–æ –≤ –∑–æ–Ω–∞–ª–Ω–∏—è—Ç —Ñ–∞–π–ª —Å–µ –ø—Ä–æ–º–µ–Ω–∏. –ò–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –≤–∞–∂–Ω–æ –µ —Ç–æ–≤–∞ —á–∏—Å–ª–æ —Å–∞–º–æ –¥–∞
–Ω–∞—Ä–∞—Å—Ç–≤–∞, –∏ –Ω–∏–∫–æ–≥–∞ –¥–∞ –Ω–µ –Ω–∞–º–∞–ª—è–≤–∞.
–ï–¥–∏–Ω –æ—Ç —á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏ –∑–∞ —Å–µ—Ä–∏–µ–Ω –Ω–æ–º–µ—Ä, –∫–æ–π—Ç–æ –ø–æ–∫–∞–∑–≤–∞ –∫–æ–≥–∞ –µ –Ω–∞—Å—Ç—ä–ø–∏–ª–∞ –ø–æ—Å–ª–µ–¥–Ω–∞—Ç–∞
–ø—Ä–æ–º—è–Ω–∞ –≤ –∑–æ–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ —á–∏—Å–ª–æ –≤—ä–≤ –≤–∏–¥–∞ YYYYMMDDTT, —Ç.–µ., —á–µ—Ç–∏—Ä–∏ —Ü–∏—Ñ—Ä–∏ –∑–∞ –≥–æ–¥–∏–Ω–∞,
–¥–≤–µ —Ü–∏—Ñ—Ä–∏ –∑–∞ –º–µ—Å–µ—Ü, –¥–≤–µ —Ü–∏—Ñ—Ä–∏ –∑–∞ –¥–∞—Ç–∞ –∏ –æ—â–µ –¥–≤–µ —Ü–∏—Ñ—Ä–∏ –∑–∞ –ø–æ—Ä–µ–¥–Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏—è
–¥–µ–Ω. –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ –¥–≤–µ —Ü–∏—Ñ—Ä–∏ (–¢–¢) –∏–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∞ —Å–∞ –æ—Ç 00 –¥–æ 99 (–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ, —Ç–∞–∫–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –∏–º–∞
–ø–æ–≤–µ—á–µ –æ—Ç 100 –ø—Ä–æ–º–µ–Ω–∏ –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –µ–¥–∏–Ω –¥–µ–Ω).
–ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω —Å–µ—Ä–∏–µ–Ω –Ω–æ–º–µ—Ä (—Ç–æ—á–Ω–∞—Ç–∞ –ø–æ—Ä–µ–¥–∏—Ü–∞ —Ü–∏—Ñ—Ä–∏) —Å–µ —Å—Ä–µ—â–∞ —Å–∞–º–æ –Ω–∞ –µ–¥–Ω–æ
–º—è—Å—Ç–æ –≤ –∑–æ–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª.
–ù–∞–ø–∏—à–µ—Ç–µ —à–µ–ª —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø–æ –ø–æ–¥–∞–¥–µ–Ω–∏ –∏–º–µ–Ω–∞ –Ω–∞ –∑–æ–Ω–∞–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –ø—Ä–æ–º–µ–Ω—è —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –≤
SOA –∑–∞–ø–∏—Å–∞ –Ω–∞ –≤—Å–µ–∫–∏ —Ñ–∞–π–ª –ø–æ —Å–ª–µ–¥–Ω–∏—è—Ç –∞–ª–≥–æ—Ä–∏—Ç—ä–º:
‚Ä¢ –∞–∫–æ –¥–∞—Ç–∞—Ç–∞ –≤ —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –µ –ø–æ-—Å—Ç–∞—Ä–∞ –æ—Ç –¥–Ω–µ—à–Ω–∞—Ç–∞, –Ω–æ–≤–∏—è—Ç —Å–µ—Ä–∏–µ–Ω –Ω–æ–º–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –æ—Ç –≤–∏–¥–∞
–¥–Ω–µ—à–Ω–∞–¥–∞—Ç–∞00
‚Ä¢ –∞–∫–æ –¥–∞—Ç–∞—Ç–∞ –≤ —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –µ —Ä–∞–≤–Ω–∞ –Ω–∞ –¥–Ω–µ—à–Ω–∞—Ç–∞, —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —É–≤–µ–ª–∏—á–∏ —Å
–µ–¥–∏–Ω–∏—Ü–∞
–í–∞–∂–∞—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ —É—Å–ª–æ–≤–∏—è:
‚Ä¢ —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –º–æ–∂–µ –¥–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞ –∏ –µ–¥–Ω–æ—Ä–µ–¥–æ–≤–∏, –∏ –º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤–∏ SOA –∑–∞–ø–∏—Å–∏
‚Ä¢ –∑–∞ –≤—Å–µ–∫–∏ –∑–æ–Ω–∞–ª–µ–Ω —Ñ–∞–π–ª, –∫–æ–π—Ç–æ –Ω–µ –µ —É—Å–ø—è–ª –¥–∞ –æ–±—Ä–∞–±–æ—Ç–∏, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –≤–∞–¥–∏ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞
–≥—Ä–µ—à–∫–∞, –∫–æ–µ—Ç–æ –≤–∫–ª—é—á–≤–∞ –∏ –∏–º–µ—Ç–æ –Ω–∞ –∑–æ–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª. –°—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –ª–µ—Å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–µ–º–∏ —Å –ø–æ–∑–Ω–∞—Ç–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ç–µ–∫—Å—Ç.

```bash
#!/bin/bash

if [[ "${#}" -lt 1 ]] ; then
    echo "Provide at least one parameter"
    exit 1
fi

validate_content() {
    grep -E -q "^([a-zA-Z0-9]+\.)+[[:space:]]+([0-9]*){0,1}[[:space:]]+IN[[:space:]]+(SOA|NS|A|AAA).*" "${1}"
}

get_RDATA() {

    sed -E "s/^([a-zA-Z0-9]+\.)+[[:space:]]+([0-9]*){0,1}[[:space:]]+IN[[:space:]]+(SOA|NS|A|AAA)//g" "${1}"
}

change_date() {
    current_date=$(date +%Y%m%d)
    date_in_file="${1}"
    file="${2}"
    serial_number=$(echo "${date_in_file}" | cut -c 9-)
    date_without_serial_number=$(echo "${date_in_file}" | cut -c 1-8)
    if [[ "${date_without_serial_number}" -ne ${current_date} ]] ; then
      sed -i "s/${date_in_file}/${current_date}00/" "${file}"
    else
        ((serial_number += 1))
        if [[ ${serial_number} -lt 10 ]] ; then
            serial_number=$(printf "%02d" "$serial_number")
        fi
        sed -i "s/${date_in_file}/${date_without_serial_number}${serial_number}/" "${file}"
    fi
}

handle_case1() {
    date_in_file=$(echo "${2}" | grep -E -o  "[0-9]{10}" )
    change_date "${date_in_file}" "${1}"
}

handle_case2() {
    line=$(head -n 2 <(echo "${2}") | tail -n 1)
    date_in_file=$(echo "${line}" | awk '{print $1}' )
    change_date "${date_in_file}" "${1}"
}

for file in "${@}" ; do
    if [[ ! -f "${file}" ]] ; then
        echo "Invalid file: ${file}"
        continue
    fi
    validate_content "${file}"

    if [[ "$?" -eq 1 ]] ; then
        echo "Invalid content for file: "${file}". Skipping..."
        continue
    fi

    if ! grep -q 'IN[[:space:]]\+SOA' "$file"; then
        echo "Not a SOA type. Skiping file: ${file}"
        continue
    fi

    RDATA=$(get_RDATA "${file}")
    if [[ $(echo "$RDATA" | wc -l) -eq 1 ]] ; then
        handle_case1 "${file}" "${RDATA}"
    else
        handle_case2 "${file}" "${RDATA}"
    fi
done

```

---

### `2022-IN-03`
–í–∞—à–∏—Ç–µ –∫–æ–ª–µ–≥–∏ –æ—Ç —Å—ä—Å–µ–¥–Ω–∞—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Ä–∞–±–æ—Ç—è—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç, –≤ –∫–æ–π—Ç–æ –¥–æ —Å–µ–≥–∞ —Å–µ –µ –ø–æ–ª–∑–≤–∞–ª–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ java. –ü–æ –≤—Ä–µ–º–µ –Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è—Ç–∞ —Å —Ü–µ–ª –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ —Å–µ –æ–∫–∞–∑–∞–ª–æ, —á–µ –Ω–∞ –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ —Å–µ –≤–∏–∫–∞ –ø–æ —Å—Ç–∞—Ä–∏—è, –≥—Ä–µ—à–µ–Ω –Ω–∞—á–∏–Ω, –∫–æ–π—Ç–æ –≤–µ—á–µ –µ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω. –í–∞—à–∞—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç iwojima.sh,
–∫–æ–π—Ç–æ —Ä–∞–±–æ—Ç–∏ –ø–æ–¥–æ–±–Ω–æ –Ω–∞ —Å—Ç–∞—Ä–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ java, –Ω–æ –≤—ä—Ç—Ä–µ—à–Ω–æ –≤–∏–∫–∞ –Ω–æ–≤–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è
–ø–æ –ø—Ä–∞–≤–∏–ª–Ω–∏—è –Ω–∞—á–∏–Ω.
–§–∞–π–ª–æ–≤–∏—è—Ç —Ñ–æ—Ä–º–∞—Ç JAR (Java ARchive) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –ø–∞–∫–µ—Ç, –∫–æ–π—Ç–æ –æ–±–µ–¥–∏–Ω—è–≤–∞ –Ω—è–∫–æ–ª–∫–æ Java class —Ñ–∞–π–ª–æ–≤–µ, –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –º–µ—Ç–∞-–¥–∞–Ω–Ω–∏ –∏ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏. –§–∞–π–ª–æ–≤–µ –≤ —Ç–æ–∑–∏ —Ñ–æ—Ä–º–∞—Ç –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–æ (–Ω–æ –Ω–µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ) –∏–º–∞—Ç —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ .jar. –ß–∞—Å—Ç –æ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω–∏—Ç–µ –≤—ä–≤ —Ñ–∞–π–ª–∞ —É–∫–∞–∑–≤–∞—Ç –∫–æ–π –µ –≥–ª–∞–≤–Ω–∏—è—Ç –∫–ª–∞—Å, —á–∏–π—Ç–æ
–º–µ—Ç–æ–¥ main() —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ. –í—ä–ø—Ä–æ—Å–Ω–∏—è—Ç main() –º–µ—Ç–æ–¥ —â–µ –ø–æ–ª—É—á–∏ —Å–ø–∏—Å—ä–∫ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ, —É–∫–∞–∑–∞–Ω–∏ –ø—Ä–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ java (–ø–æ–¥–æ–±–Ω–æ –Ω–∞ main() —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –≤ –µ–∑–∏–∫–∞ C).
–ï–¥–Ω–æ –æ—Ç –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è—Ç–∞ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ java (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ—Ç–æ, –∫–æ–µ—Ç–æ
—Ä–∞–∑–≥–ª–µ–∂–¥–∞–º–µ –≤ —Ç–∞–∑–∏ –∑–∞–¥–∞—á–∞) –∏–º–∞ —Å–ª–µ–¥–Ω–∏—è—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: java [options] -jar filename [args] –∫—ä–¥–µ—Ç–æ:
‚Ä¢ options ‚Äì –Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∞ –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç –æ–ø—Ü–∏–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ java, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª; –≤—Å—è–∫–∞
–æ–ø—Ü–∏—è –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∑–∞–ø–æ—á–≤–∞ —Å —Ç–∏—Ä–µ;
‚Ä¢ filename ‚Äì –∏–º–µ –Ω–∞ JAR —Ñ–∞–π–ª, –∫–æ–π—Ç–æ –¥–∞ –±—ä–¥–µ –∏–∑–ø—ä–ª–Ω–µ–Ω, –∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ –≤–∏–Ω–∞–≥–∏ —Å –æ–ø—Ü–∏—è -jar;
‚Ä¢ args ‚Äì –Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏, —Å –∫–æ–∏—Ç–æ —â–µ –±—ä–¥–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω main() –º–µ—Ç–æ–¥—ä—Ç –Ω–∞ –∫–ª–∞—Å–∞ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ (–∞—Ä–≥—É–º–µ–Ω—Ç–∏ –Ω–∞ —Å–∞–º–∞—Ç–∞ Java –ø—Ä–æ–≥—Ä–∞–º–∞).
–ö–∞—Ç–æ –ø—Ä–∏–º–µ—Ä —Ä–∞–∑–ø–æ–ª–∞–≥–∞–º–µ —Å JAR —Ñ–∞–π–ª (app.jar), —Å –µ–¥–∏–Ω –∫–ª–∞—Å –≤ –Ω–µ–≥–æ, —á–∏–π—Ç–æ main() –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–∏—Ä–∞
–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç, –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞ –Ω–∞ —Å–ª–µ–¥–Ω–∏—è—Ç bash –∫–æ–¥:
if [ -z "${qux}" ]; then
qux=default
fi
echo "${qux}"
–û–±—â–∏—è—Ç –≤–∏–¥ –Ω–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ —Å –∫–æ–º–∞–Ω–¥–∞—Ç–∞ java –±–∏ –±–∏–ª:
$ java -jar ./app.jar
default
–ï–¥–Ω–∞ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ –æ–ø—Ü–∏–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ java –µ -Dproperty=value, —Å –∫–æ–µ—Ç–æ —Å–µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞
—Å –∏–º–µ property –∏ —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç value. –ü—Ä–∏ –Ω—É–∂–¥–∞ –æ—Ç –Ω—è–∫–æ–ª–∫–æ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏, –∑–∞ –≤—Å—è–∫–∞ —Å–µ –ø–æ–ª–∑–≤–∞ –æ—Ç–¥–µ–ª–Ω–∞
–æ–ø—Ü–∏—è -D. –ü—Ä–∏–º–µ—Ä –∑–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ –ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –æ–ø—Ü–∏—è—Ç–∞ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:
$ java -Dqux=foo -jar /path/to/app.jar
foo
–ó–∞ —Å—ä–∂–∞–ª–µ–Ω–∏–µ, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ java, –∫–æ—è—Ç–æ –µ –ø–æ–ª–∑–≤–∞–Ω–∞ –¥–æ –º–æ–º–µ–Ω—Ç–∞, —Ä–∞–±–æ—Ç–∏ –ø–æ
–¥—Ä—É–≥ –Ω–∞—á–∏–Ω. –ü—Ä–∏–º–µ—Ä:

```
$ java -jar ./app.jar -Dqux=foo
default
$ java -Dqux=foo -jar ./app.jar -hoge fuga
default
$ java -jar -Dqux=foo app.jar
foo
```

–ê–∫–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ–±–æ–±—â–∏–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:
‚Ä¢ –≤—Å–∏—á–∫–æ —Å–ª–µ–¥ –∏–º–µ—Ç–æ –Ω–∞ JAR —Ñ–∞–π–ª–∞ —Å–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –∑–∞ main() –º–µ—Ç–æ–¥–∞ (–Ω–∞–ø—Ä. -hoge –∏ fuga);
‚Ä¢ –∏–º–µ—Ç–æ –Ω–∞ JAR —Ñ–∞–π–ª–∞ –µ –Ω—è–∫—ä–¥–µ —Å–ª–µ–¥ –æ–ø—Ü–∏—è—Ç–∞ -jar;
‚Ä¢ –æ–ø—Ü–∏–∏ –∑–∞ java –∫–æ–º–∞–Ω–¥–∞—Ç–∞ –º–æ–∂–µ –¥–∞ –∏–º–∞ –∏ –ø—Ä–µ–¥–∏, –∏ —Å–ª–µ–¥ –æ–ø—Ü–∏—è—Ç–∞ -jar;
‚Ä¢ –æ–ø—Ü–∏—è—Ç–∞ -Dproperty=value —Ä–∞–±–æ—Ç–∏ —Å–∞–º–æ –∞–∫–æ –µ —Å–ª–µ–¥ –æ–ø—Ü–∏—è—Ç–∞ -jar.
–ó–∞–±–µ–ª–µ–∂–∫–∏: –í–∞—à–∏—è—Ç —Å–∫—Ä–∏–ø—Ç iwojima.sh –Ω—è–º–∞ –Ω—É–∂–¥–∞ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è, –∫–æ–∏—Ç–æ –Ω–µ –ø–æ–¥–∞–≤–∞—Ç –æ–ø—Ü–∏—è -jar. –ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –æ–ø—Ü–∏–∏—Ç–µ (–≤–∫–ª. property –∏ value), –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ JAR —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –∏
–∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ –Ω–µ –º–æ–≥–∞—Ç –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏.

```bash
#!/bin/bash

if [[ "${#}" -eq 0 ]] ; then
    echo "Invalid arguments"
    exit 1
fi

if ! grep -q "-jar" ; then
    echo "Invalid arguments"
    exit 2
fi

saw_jar=0
is_jar=0
filename=""
options=""

for arg in "${@}" ; do
    if [[ "${arg}" == "-jar" ]] ; then
        saw_jar=1
        continue
    fi

    if [[ -f "${arg}"]] && [[ "${arg}" =~ ^.*\.jar ]] ; then
        if [[ "${saw_jar}" -eq 1 ]] ; then
            is_jar=1
            filename="${arg}"
        else
            echo ".jar should be after -jar"
            exit 3
        fi
        continue
    fi

    if echo "${arg}" | grep -q -E "^-D[^=]+=.*$" ; then
         options+="${arg} "
         continue
    fi

    if echo "${arg}" | grep -q -E "^-.*" ; then
        options+="${arg}"
    fi

done
```

---

### `2022-SE-01`
–°—ä–≤—Ä–µ–º–µ–Ω–Ω–∏—Ç–µ –∫–æ–º–ø—é—Ç—Ä–∏ –º–æ–≥–∞—Ç –¥–∞ –≤–ª–∏–∑–∞—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ä–µ–∂–∏–º–∏ –∑–∞ –µ–Ω–µ—Ä–≥–æ—Å–ø–µ—Å—Ç—è–≤–∞–Ω–µ (suspend)
–∏ –∏–∑–ª–∏–∑–∞—Ç –æ—Ç —Ç–æ–∑–∏ —Ä–µ–∂–∏–º (wake-up) –ø—Ä–∏ –Ω–∞—Å—Ç—ä–ø–≤–∞–Ω–µ—Ç–æ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏ —Å—ä–±–∏—Ç–∏—è. Linux kernel –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è
—Å–ø–µ—Ü–∏–∞–ª–µ–Ω –≤–∏—Ä—Ç—É–∞–ª–µ–Ω —Ñ–∞–π–ª /proc/acpi/wakeup, —á—Ä–µ–∑ –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –∏–ª–∏ –ø—Ä–æ–º–µ–Ω—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ –∑–∞ ‚Äú—Å—ä–±—É–∂–¥–∞–Ω–µ‚Äù –ø—Ä–∏ –Ω–∞—Å—Ç—ä–ø–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—ä–±–∏—Ç–∏—è, –≤ –æ–±—â–∏—è —Å–ª—É—á–∞–π - –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç –Ω–∞
–Ω—è–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –¢—ä–π –∫–∞—Ç–æ —Ç–æ–∑–∏ —Ñ–∞–π–ª –µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫—ä–º —è–¥—Ä–æ—Ç–æ, ‚Äú—á–µ—Ç–µ–Ω–µ—Ç–æ‚Äù –æ—Ç —Ñ–∞–π–ª–∞ –∏ ‚Äú–ø–∏—Å–∞–Ω–µ—Ç–æ‚Äù –≤—ä–≤
—Ñ–∞–π–ª–∞ –∏–∑–≥–ª–µ–∂–¥–∞—Ç —Ä–∞–∑–ª–∏—á–Ω–æ.
–ó–∞ —É–ª–µ—Å–Ω–µ–Ω–∏–µ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞ —â–µ –ø–æ–ª–∑–≤–∞–º–µ –æ–ø—Ä–æ—Å—Ç–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ç–æ–∑–∏ —Ñ–∞–π–ª.
–ü–æ–¥ whitespace —Ä–∞–∑–±–∏—Ä–∞–º–µ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç —Ç–∞–±–æ–≤–µ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏. –ü—Ä–∏ —á–µ—Ç–µ–Ω–µ –æ—Ç —Ñ–∞–π–ª–∞ –∏–∑—Ö–æ–¥—ä—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ —á–µ—Ç–∏—Ä–∏ –∫–æ–ª–æ–Ω–∏, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace, –≤ –ø–æ–ª–µ—Ç–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –∏–º–∞ whitespace;
–ø—ä—Ä–≤–∏—è—Ç —Ä–µ–¥ –µ header –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∞—Ç–∞ –∫–æ–ª–æ–Ω–∞. –ü—Ä–∏–º–µ—Ä–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–∞:
Device S-state Status Sysfs node
GLAN S4 *enabled pci:0000:00:1f.6
25
XHC S3 *enabled pci:0000:00:14.0
XDCI S4 *disabled
LID S4 *enabled platform:PNP0C0D:00
HDAS S4 *disabled pci:0000:00:1f.3
RP01 S4 *enabled pci:0000:00:1c.0
–∫—ä–¥–µ—Ç–æ:
‚Ä¢ –ø—ä—Ä–≤–∞—Ç–∞ –∫–æ–ª–æ–Ω–∞ –¥–∞–≤–∞ —É–Ω–∏–∫–∞–ª–Ω–æ –∏–º–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∫–æ–µ—Ç–æ –º–æ–∂–µ –¥–∞ —Å—ä–±—É–¥–∏ –º–∞—à–∏–Ω–∞—Ç–∞, –∫–∞—Ç–æ –∏–º–µ—Ç–æ
–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –¥–æ —á–µ—Ç–∏—Ä–∏ –∑–Ω–∞–∫–∞ –≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏ –∏ —Ü–∏—Ñ—Ä–∏;
‚Ä¢ —Ç—Ä–µ—Ç–∞—Ç–∞ –∫–æ–ª–æ–Ω–∞ –æ–ø–∏—Å–≤–∞ –¥–∞–ª–∏ —Ç–æ–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–æ–∂–µ –¥–∞ —Å—ä–±—É–¥–∏ –º–∞—à–∏–Ω–∞—Ç–∞. –í—ä–∑–º–æ–∂–Ω–∏—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
—Å–∞ enabled/disabled, –ø—Ä–µ–¥—Ö–æ–∂–¥–∞–Ω–∏ –æ—Ç –∑–≤–µ–∑–¥–∏—á–∫–∞;
‚Ä¢ –≤—Ç–æ—Ä–∞—Ç–∞ –∏ —á–µ—Ç–≤—ä—Ä—Ç–∞—Ç–∞ –∫–æ–ª–æ–Ω–∞ –≥–∏ –∏–≥–Ω–æ—Ä–∏—Ä–∞–º–µ –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞.
–ü—Ä–∏ –∑–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ –∏–º–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ä–≤ —Ñ–∞–π–ª–∞ /proc/acpi/wakeup, –Ω–µ–≥–æ–≤–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ —Å–µ –ø—Ä–æ–º–µ–Ω—è
–æ—Ç disabled –Ω–∞ enabled –∏–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–∫–æ —Ñ–∞–π–ª—ä—Ç –∏–∑–≥–ª–µ–∂–¥–∞ –∫–∞–∫—Ç–æ –ø—Ä–∏–º–µ—Ä–∞ –ø–æ-–≥–æ—Ä–µ, –ø—Ä–∏
–∑–∞–ø–∏—Å –Ω–∞ XHC –≤ –Ω–µ–≥–æ, —Ç—Ä–µ—Ç–∏—è—Ç —Ä–µ–¥ —â–µ —Å–µ –ø—Ä–æ–º–µ–Ω–∏ –Ω–∞:
XHC S3 *disabled pci:0000:00:14.0
–ü—Ä–∏ –∑–∞–ø–∏—Å –Ω–∞ HDAS, —à–µ—Å—Ç–∏—è—Ç —Ä–µ–¥ —â–µ —Å–µ –ø—Ä–æ–º–µ–Ω–∏ –Ω–∞:
HDAS S4 *enabled pci:0000:00:1f.3
–î–µ—Ñ–∏–Ω–∏—Ä–∞–Ω –µ —Ñ–æ—Ä–º–∞—Ç –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª, –∫–æ–π—Ç–æ –æ–ø–∏—Å–≤–∞ –∂–µ–ª–∞–Ω –∫–æ–º–ø–ª–µ–∫—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ wakeup
—Å—ä–±–∏—Ç–∏—è. –ü—Ä–∏–º–µ—Ä–µ–Ω —Ñ–∞–π–ª:
# comment bar
GLAN disabled
LID enabled # comment foo
–∫—ä–¥–µ—Ç–æ:
‚Ä¢ –∑–Ω–∞–∫—ä—Ç –¥–∏–µ–∑ (#) –µ –∑–Ω–∞–∫ –∑–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–∞;
‚Ä¢ —Ä–µ–¥–æ–≤–µ—Ç–µ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ —Å–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç –∏–º–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –∂–µ–ª–∞–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ –∑–∞ —Å—ä–±—É–∂–¥–∞–Ω–µ –ø—Ä–∏ —Å—ä–±–∏—Ç–∏—è –æ—Ç —Ç–æ–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace.
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏ –ø–æ–¥–∞–¥–µ–Ω –ø—ä—Ä–≤–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –∏–º–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª –≤ –≥–æ—Ä–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç –æ—Å–∏–≥—É—Ä—è–≤–∞ –∏—Å–∫–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ —Å—ä–±—É–∂–¥–∞–Ω–µ. –ê–∫–æ –≤—ä–≤ —Ñ–∞–π–ª–∞ –∏–º–∞ —Ä–µ–¥ –∑–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∫–æ–µ—Ç–æ –Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞, —Å–∫—Ä–∏–ø—Ç—ä—Ç –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –û–±—ä—Ä–Ω–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞—Ç–∞ –∑–∞ –≥—Ä–µ—à–∫–∏ –∏ —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ –∫—ä–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è ‚Äì –∏—Å–∫–∞–º–µ —Å–∫—Ä–∏–ø—Ç—ä—Ç –¥–∞ –±—ä–¥–µ —É–¥–æ–±–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

```bash
#!/bin/bash

if [[ "${#}" -ne 1 ]] ; then
    echo "Invalud number of arguments: only one allowed"
    exit 1
fi

config="${1}"
wakeup="${HOME}/example-wakeup"
if [[ ! -f "${config}" ]] ; then
    echo "Invalid config file"
    exit 2
fi

while read line ; do

    valid_line=$(echo "${line}" | sed -E "s/([^#]*)#.*/\1/")

    if [[ -z "${valid_line}" ]] ; then
        continue
    fi

    name=$(echo "${valid_line}" | awk '{print $1}')
    status=$(echo "${valid_line}" | awk '{print $2}')
    if [[ ! "${status}" =~ (enabled|disabled) ]] ; then
        echo "Invalid status for: ${name}"
    fi
    if [[ ! "${name}" =~ ^[A-Z]{4}$ ]] || ! grep -q -E "${name}" "${wakeup}" ; then
        echo -e "Inavlid device name: ${name} \n Skipping..."
        continue
    else
        status_in_wakeup=$(grep "${name}" "${wakeup}"| awk '{print $3}' | tr -d "*")
        if [[ ${status} == ${status_in_wakeup} ]] ; then
            echo "Device: ${name} allready in status: ${status}"
        else
            sed -i -E "s/^([[:space:]]*${name}[[:space:]]+S[0-9][[:space:]]+)\*${status_in_wakeup}([[:space:]]*.*)/\1\*${status}\2/" "${wakeup}"
        fi
    fi

done < "${config}"
```
---

### `2023-IN-02`
–í–∞—à–∏—Ç–µ –∫–æ–ª–µ–≥–∏ –æ—Ç —Å—ä—Å–µ–¥–Ω–∞—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –ø–æ–ª–∑–≤–∞—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω —Å–æ—Ñ—Ç—É–µ—Ä –∑–∞ –æ–ø—Ç–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –∏–∑—Å–ª–µ–¥–≤–∞–Ω–∏—è, –∫–æ–π—Ç–æ –∑–∞–ø–∏—Å–≤–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ –æ—Ç –≤—Å—è–∫–æ –∏–∑–º–µ—Ä–≤–∞–Ω–µ –≤ –æ—Ç–¥–µ–ª–µ–Ω —Ñ–∞–π–ª. –§–∞–π–ª–æ–≤–µ—Ç–µ –∏–º–∞—Ç —É–Ω–∏–∫–∞–ª–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ, –ø–æ –∫–æ–µ—Ç–æ —Å–µ –æ–ø—Ä–µ–¥–µ–ª—è –∑–∞ –∫–æ–µ –∏–∑–º–µ—Ä–≤–∞–Ω–µ —Å–µ –æ—Ç–Ω–∞—Å—è —Ñ–∞–π–ª–∞. –ó–∞ —Å—ä–∂–∞–ª–µ–Ω–∏–µ, —Ç—ä–π –∫–∞—Ç–æ –∫–æ–ª–µ–≥–∏—Ç–µ
–≤–∏ –ø–æ–ª–∑–≤–∞—Ç –±–µ—Ç–∞ –≤–µ—Ä—Å–∏—è –Ω–∞ —Å–æ—Ñ—Ç—É–µ—Ä–∞, —Ç–æ–π –ø–æ–Ω—è–∫–æ–≥–∞ –∑–∞–ø–∏—Å–≤–∞ –ø–æ –Ω—è–∫–æ–ª–∫–æ –ø—ä—Ç–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ –æ—Ç –¥–∞–¥–µ–Ω–æ –∏–∑–º–µ—Ä–≤–∞–Ω–µ –≤ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç–∏:
‚Ä¢ –Ω—É–ª–∞ –∏–ª–∏ –ø–æ–≤–µ—á–µ –æ—Ç–¥–µ–ª–Ω–∏ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–∏ —Ñ–∞–π–ª–∞ —Å –µ–¥–Ω–∞–∫–≤–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ;
‚Ä¢ –Ω—É–ª–∞ –∏–ª–∏ –ø–æ–≤–µ—á–µ –≥—Ä—É–ø–∏ –æ—Ç hardlink-–æ–≤–µ, –∫–∞—Ç–æ –≤—Å—è–∫–∞ –≥—Ä—É–ø–∞ —Å—ä–¥—ä—Ä–∂–∞ –¥–≤–µ –∏–ª–∏ –ø–æ–≤–µ—á–µ –∏–º–µ–Ω–∞ –Ω–∞ –¥–∞–¥–µ–Ω
—Ñ–∞–π–ª —Å –∏–∑–º–µ—Ä–≤–∞–Ω–∏—è.
–ü–æ–º–æ–≥–Ω–µ—Ç–µ –Ω–∞ –∫–æ–ª–µ–≥–∏—Ç–µ —Å–∏, –∫–∞—Ç–æ –Ω–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä ‚Äì –∏–º–µ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è,
—Å—ä–¥—ä—Ä–∂–∞—â–∞ —Ñ–∞–π–ª–æ–≤–µ —Å –∏–∑–º–µ—Ä–≤–∞–Ω–∏—è. –°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—è –∏–∑—Ö–æ–¥ —Å–ø–∏—Å—ä–∫ —Å –∏–º–µ–Ω–∞
–Ω–∞ —Ñ–∞–π–ª–æ–≤–µ, –∫–∞–Ω–¥–∏–¥–∞—Ç–∏ –∑–∞ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ, –ø–æ —Å–ª–µ–¥–Ω–∏—Ç–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
‚Ä¢ –∞–∫–æ –∏–∑–º–µ—Ä–≤–∞–Ω–µ—Ç–æ –µ –∑–∞–ø–∏—Å–∞–Ω–æ —Å–∞–º–æ –≤ –æ—Ç–¥–µ–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ, —Ç—Ä—è–±–≤–∞ –¥–∞ –æ—Å—Ç–∞–Ω–µ –µ–¥–∏–Ω –æ—Ç —Ç—è—Ö;
‚Ä¢ –∞–∫–æ –∏–∑–º–µ—Ä–≤–∞–Ω–µ—Ç–æ –µ –∑–∞–ø–∏—Å–∞–Ω–æ —Å–∞–º–æ –≤ –≥—Ä—É–ø–∏ –æ—Ç hardlink-–æ–≤–µ, –≤—Å—è–∫–∞ –≥—Ä—É–ø–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –Ω–∞–º–∞–ª–∏ —Å –µ–¥–Ω–æ
–∏–º–µ;
‚Ä¢ –∞–∫–æ –∏–∑–º–µ—Ä–≤–∞–Ω–µ—Ç–æ –µ –∑–∞–ø–∏—Å–∞–Ω–æ –∏ –≤ –≥—Ä—É–ø–∏, –∏ –∫–∞—Ç–æ –æ—Ç–¥–µ–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ, –∑–∞ –≥—Ä—É–ø–∏—Ç–µ —Å–µ –ø–æ–ª–∑–≤–∞ –≥–æ—Ä–Ω–∏—è
–∫—Ä–∏—Ç–µ—Ä–∏–π, –∞ –≤—Å–∏—á–∫–∏ –æ—Ç–¥–µ–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ —Å–µ –ø—Ä–µ–º–∞—Ö–≤–∞—Ç.

# –ù–µ –µ –Ω–∞–ø—ä–ª–Ω–æ –∫–æ—Ä–µ–∫—Ç–µ–Ω

```bash
#!/bin/bash

if [[ ${#} -ne 1 ]] ; then
    echo "Invalid number of parameters: 1 allowed"
    exit 1
fi

dir="${1}"

if [[ ! -d "${dir}" ]] ; then
    echo "Invalid directory: ${dir}"
    exit 2
fi

files=$(find "${dir}" -mindepth 1 -type f)

group_files=$(mktemp)
while read line ; do
    if [[ ! -f "${line}" ]] ; then
        echo "Not a file: ${line}"
    fi

    hash=$(sha256sum "${line}" | awk '{print $1}')

    echo "${line} ${hash} $(stat -c '%i' "${line}")" >> "${group_files}"

done < <(echo "${files}")

uniq_hash=$(cat "${group_files}" | awk '{print $2}' | sort | uniq)

while read line ; do
    same_content=$(grep "${line}" "${group_files}"| awk '{print $1} ' )

    if [[ $(echo "${same_content}" | wc -l ) -eq 1 ]] ; then
        continue
    fi

    inodes=$(grep "$line" "$group_files" | awk '{print $3}' | sort )
    if [[ $(echo "${inodes}" | uniq | wc -l) -eq 1 ]] ; then
#        echo "All hardlinks for content with hash: ${line}"
        echo "${same_content}" | head -n 1
        continue
    fi

    if [[ $(echo "${same_content}" | wc -l) -eq $(echo "${inodes}" | uniq | wc -l) ]] ; then
#        echo "All files with same content with hash: ${line}"
        echo "${same_content}" | tail -n +2
        continue
    fi
#    echo "Files for mixed condition:"
    groups_inodes=$(echo "${inodes}" | sort | uniq -c | sort -n -r | awk '{if ($1>1) print $2}')
    echo "$(grep -v "${groups_inodes}" "${same_content}")"

    while read line2 ; do
        same_content2=$(grep "${line2}" "${group_files}"| awk '{print $1} ' )
#        echo "Hardlinks for content with inode: ${line2} for hash: ${line}"
        echo "${same_content2}" | head -n 1
    done < <(echo "${groups_inodes}")

done < <(echo "${uniq_hash}")


rm "${group_files}"

```

---

### `2024-SE-01`
–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ—Ç–æ –Ω–∞ –ò—Å—Ç–∏–Ω–∞—Ç–∞ –≤–∏ –ø–æ—Å—Ç–∞–≤—è —Å–ø–µ—à–Ω–∞ –∑–∞–¥–∞—á–∞: –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç replace.sh, –∫–æ–π—Ç–æ –∑–∞–º–µ—Å—Ç–≤–∞ –¥—É–º–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏ —Ç–µ–∫—Å—Ç–æ–≤–µ.
34
replace.sh –ø—Ä–∏–µ–º–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –¥–≤–∞ —Ç–∏–ø–∞ –≤–∞–ª–∏–¥–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏:
‚Ä¢ –§–∞–π–ª: –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω –Ω–∏–∑, –Ω–µ-–∑–∞–ø–æ—á–≤–∞—â —Å —Ç–∏—Ä–µ, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–∞–Ω –∫–∞—Ç–æ –∏–º–µ –Ω–∞ —Ñ–∞–π–ª
‚Ä¢ –ó–∞–º—è–Ω–∞: –∞—Ä–≥—É–º–µ–Ω—Ç –æ—Ç –≤–∏–¥–∞ -R<–¥—É–º–∞1>=<–¥—É–º–∞2>
–†–µ–¥—ä—Ç –Ω–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ –Ω—è–º–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –±—Ä–æ—è—Ç –∏–º –º–æ–∂–µ –¥–∞ –µ –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω.
–ó–∞ –≤—Å—è–∫–∞ –∑–∞–º—è–Ω–∞, replace.sh —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ, —Ç–∞–∫–∞ —á–µ –≤—Å–∏—á–∫–∏ —Å—Ä–µ—â–∞–Ω–∏—è –Ω–∞ <–¥—É–º–∞1>
–¥–∞ –±—ä–¥–∞—Ç –∑–∞–º–µ–Ω–µ–Ω–∏ —Å <–¥—É–º–∞2>.
–ó–∞–±–µ–ª–µ–∂–∫–∏ –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞:
‚Ä¢ –ü—Ä–∏–µ–º–∞–º–µ, —á–µ –¥—É–º–∏—Ç–µ —Å—ä–¥—ä—Ä–∂–∞—Ç —Å–∞–º–æ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏ –∏ —Ü–∏—Ñ—Ä–∏, –∞ –∑–∞–º—è–Ω–∞—Ç–∞ —Å—á–∏—Ç–∞ –≥–ª–∞–≤–Ω–∏—Ç–µ –∏ –º–∞–ª–∫–∏—Ç–µ –±—É–∫–≤–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ (case sensitive).
‚Ä¢ –ó–∞–º–µ–Ω—è—Ç —Å–µ —Å–∞–º–æ –ø—ä–ª–Ω–∏ –¥—É–º–∏
‚Ä¢ –í–µ—á–µ –∑–∞–º–µ–Ω–µ–Ω–∞ –¥—É–º–∞ –Ω–µ —Å–µ –∑–∞–º–µ–Ω—è –≤—Ç–æ—Ä–∏ –ø—ä—Ç. –†–µ—à–µ–Ω–∏—è, –Ω–µ-—Å–ø–∞–∑–≤–∞—â–∏ —Ç–æ–≤–∞ —É—Å–ª–æ–≤–∏–µ, —Å–µ –æ—Ü–µ–Ω—è–≤–∞—Ç —Å
–Ω–∞–π-–º–Ω–æ–≥–æ 8 —Ç–æ—á–∫–∏.
‚Ä¢ –ù–µ –º–æ–∂–µ –¥–∞ —Ä–∞–∑—á–∏—Ç–∞—Ç–µ, —á–µ —Ñ–∏–∫—Å–∏—Ä–∞–Ω –æ—Ç –≤–∞—Å –Ω–∏–∑ –Ω–µ —Å–µ —Å—Ä–µ—â–∞ –≤ –Ω–∏–∫–æ–π —Ç–µ–∫—Å—Ç. –ê–∫–æ –≤–∏ —Ç—Ä—è–±–≤–∞ –Ω–∏–∑,
–∫–æ–π—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω–æ –Ω–µ —Å–µ —Å—Ä–µ—â–∞ –Ω–∏–∫—ä–¥–µ, –º–æ–∂–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ pwgen(1)
–ü—Ä–∏–º–µ—Ä:
```
$ cat propaganda.txt
Our ally Eastasia is helping us in the war effort against Eurasia.
$ ./replace.sh -REastasia=Eurasia -REurasia=Eastasia propaganda.txt
$ cat propaganda.txt
Our ally Eurasia is helping us in the war effort against Eastasia.
```
–ë–æ–Ω—É—Å: –°–∫—Ä–∏–ø—Ç—ä—Ç –¥–∞ –Ω–µ –∏–∑–≤—ä—Ä—à–≤–∞ –Ω–∏–∫–∞–∫–≤–∞ –∑–∞–º—è–Ω–∞ –≤ —Ä–µ–¥–æ–≤–µ, –∫–æ–∏—Ç–æ –∑–∞–ø–æ—á–≤–∞—Ç —Å—ä—Å —Å–∏–º–≤–æ–ª–∞ #

```bash
#!/bin/bash

file=""
toChange=$(mktemp)
for arg in "${@}" ; do
    if [[ -f "${arg}" ]] ; then
        if [[ -n "${file}" ]] ; then
            echo "Only one file allowed"
            rm "${toChange}"
            exit 1
        fi

        file=${arg}
    else
        if [[ ! "${arg}" =~ ^-R[a-zA-Z0-9]+=[a-zA-Z0-9]+$ ]] ;  then
            echo "Invalid string to replace"
            rm "${toChange}"
            exit 2
        fi
        echo "${arg}" >>"${toChange}"
    fi
done

changed=$(mktemp)
while read line ; do
    lhs=$(echo "${line}" | sed -E "s/^-R([a-zA-Z0-9]+)=[a-zA-Z0-9]+$/\1/")
    rhs=$(echo "${line}" | sed -E "s/^-R[a-zA-Z0-9]+=([a-zA-Z0-9])+$/\1/")
    rhs+="$(pwgen | head -n 1)"
    echo "${rhs}" >> "${changed}"
    sed -i -E "/^#/!s/\<${lhs}\>/${rhs}/" "${file}"  # —Ä–µ–¥–æ–≤–µ—Ç–µ –Ω–µ–∑–∞–ø–æ—á–≤–∞—â–∏ —Å #
done < "${toChange}"

while read line ; do
    cleared=$(echo "${line}" | rev | cut -c 9- | rev)
    sed -i -E "s/^\<${line}\>/${cleared}/"
done < "${changed}"

```

---

### `2023-SE-05`
–ö–∞–∑–≤–∞–º–µ, —á–µ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ foo –∑–∞–µ–º–∞ –ø–∞–º–µ—Ç ùëã, –∫–æ–≥–∞—Ç–æ ùëã –µ —Å—É–º–∞—Ç–∞ –Ω–∞ –∑–∞–µ—Ç–∞—Ç–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∞ –ø–∞–º–µ—Ç (rss) –Ω–∞
–≤—Å–∏—á–∫–∏ –ø—Ä–æ—Ü–µ—Å–∏, —á–∏—è—Ç–æ –∫–æ–º–∞–Ω–¥–∞ (comm) –µ foo.
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø–æ–≥–ª–µ–∂–¥–∞ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –ø—Ä–µ–∑ –µ–¥–Ω–∞ —Å–µ–∫—É–Ω–¥–∞, –¥–æ–∫–∞—Ç–æ —Å–ø—Ä–∞—Ç –¥–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –∫–æ–º–∞–Ω–¥–∏, —á–∏—è—Ç–æ –∑–∞–µ—Ç–∞ –ø–∞–º–µ—Ç –µ –Ω–∞–¥ 65536.
–°–ª–µ–¥ —Ç–æ–≤–∞, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–¥–µ –≤—Å–∏—á–∫–∏ –∫–æ–º–∞–Ω–¥–∏, –∫–æ–∏—Ç–æ —Å–∞ –∑–∞–µ–º–∞–ª–∏ –ø–∞–º–µ—Ç –Ω–∞–¥ 65536 –≤ –ø–æ–Ω–µ –ø–æ–ª–æ–≤–∏–Ω–∞—Ç–∞ ‚Äú–ø–æ–≥–ª–µ–∂–¥–∞–Ω–∏—è‚Äù

```bash
#!/bin/bash

function() {
    processes=$(ps -e -o comm=,rss=)
    while read line ; do
        command_sum_rss=$(echo "${processes}" | grep "${line}" | awk '{sum+=$2} END {print sum}')
         echo "${command} ${command_sum_rss}"
    done < <(echo "${processes}" | cut -d ' ' -f 1 | sort | uniq)
}

temp=$(mktemp)

while true ; do
    processes=$(function | awk '$2 > 65536 {print $1}' )
    if [[ -z "${processes}" ]] ; then
        break;
    fi

    for command in "$(echo "${processes}")" ; do
        echo "$commmand" >> "${temp}"
    done

    ctr=$((ctr+1))
    sleep 1
done

half="$(echo "${ctr} / 2" | bc)"
cat "${temp}" | sort | uniq -c | awk -v "hc=${half}" '$1 >= hc {print $1}'

```

---

### `2024-SE-02`
–í–∞—à–∏ –∫–æ–ª–µ–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–∏—Å—Ç–µ–º–∞ –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ PrevCloud, –∫–æ—è—Ç–æ –∏–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
–∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏, —Ä–∞–∑–ª–∏—á–Ω–∞ –æ—Ç —Ç–∞–∑–∏ –∑–∞ –ª–æ–∫–∞–ª–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ (/etc/passwd).
–ö–æ–ª–µ–≥–∏—Ç–µ –≤–∏ —Å–∞ –≤–∏ –¥–∞–ª–∏ –Ω–∞ –≥–æ—Ç–æ–≤–æ –∫–æ–º–ø–∏–ª–∏—Ä–∞–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ occ, —Å –∫–æ—è—Ç–æ —Å–µ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –Ω–∞
PrevCloud, –∏ –≤–∏ –º–æ–ª—è—Ç –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç sync-users.sh, –∫–æ–π—Ç–æ –æ–±–Ω–æ–≤—è–≤–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –Ω–∞ PrevCloud
—Å–ø—Ä—è–º–æ –ª–æ–∫–∞–ª–Ω–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏.
–©–µ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∞–≤–∞–º–µ:
‚Ä¢ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–∞ PrevCloud, –¥–æ –∫–æ–∏—Ç–æ –∏–º–∞–º–µ –¥–æ—Å—Ç—ä–ø —á—Ä–µ–∑ occ
‚Ä¢ –õ–æ–∫–∞–ª–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ - –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Å UID ‚â• 1000
‚Ä¢ –°–∏—Å—Ç–µ–º–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ - –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Å UID < 1000 (—Ç–µ –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –≤ –∑–∞–¥–∞—á–∞—Ç–∞)
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –ø–æ–¥–∫–æ–º–∞–Ω–¥–∏—Ç–µ –Ω–∞ occ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∞ –æ—Ç –≤–∞—à–∏—Ç–µ –∫–æ–ª–µ–≥–∏:
‚Ä¢ ./occ user:list ‚Äì –¥–∞–≤–∞ —Å–ø–∏—Å—ä–∫ –æ—Ç PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –≤—ä–≤ –≤–∏–¥–∞ - USERNAME: DISPLAYNAME,
–∫–∞—Ç–æ –≤ –∑–∞–¥–∞—á–∞—Ç–∞ —Å–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞–º–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ –æ—Ç USERNAME. –ü—Ä–∏–º–µ—Ä–µ–Ω –∏–∑—Ö–æ–¥:
- rms: Richard Stallman
- dennis: Dennis Ritchie
- brian: Brian Kernighan
‚Ä¢ ./occ user:info USERNAME ‚Äì –¥–∞–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è USERNAME. –ü—Ä–∏–º–µ—Ä–µ–Ω –∏–∑—Ö–æ–¥:
- user_id: rms
- display_name: Richard Stallman
- email: rms@gnu.org
- enabled: true
- quota: none
‚Ä¢ ./occ user:add USERNAME ‚Äì —Å—ä–∑–¥–∞–≤–∞ –Ω–æ–≤ PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª —Å –∏–º–µ USERNAME; –Ω—è–º–∞ –µ—Ñ–µ–∫—Ç –∏
–∑–∞–≤—ä—Ä—à–≤–∞ –Ω–µ—É—Å–ø–µ—à–Ω–æ, –∞–∫–æ —Ç–æ–π –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞
35
‚Ä¢ ./occ user:disable USERNAME ‚Äì –∑–∞–∫–ª—é—á–≤–∞ –ø—Ä–æ—Ñ–∏–ª–∞ –Ω–∞ PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è USERNAME (—Ç–æ–≤–∞ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞ –Ω–∞ –ø–æ–ª–µ—Ç–æ enabled –≤ –∏–∑—Ö–æ–¥–∞ –Ω–∞ user:info); –Ω—è–º–∞ –µ—Ñ–µ–∫—Ç –∏ –∑–∞–≤—ä—Ä—à–≤–∞ –Ω–µ—É—Å–ø–µ—à–Ω–æ,
–∞–∫–æ —Ç–æ–π –≤–µ—á–µ –µ –∑–∞–∫–ª—é—á–µ–Ω
‚Ä¢ ./occ user:enable USERNAME ‚Äì –æ—Ç–∫–ª—é—á–≤–∞ –ø—Ä–æ—Ñ–∏–ª–∞ –Ω–∞ PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è USERNAME (—Ç–æ–≤–∞
—Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞ –Ω–∞ –ø–æ–ª–µ—Ç–æ enabled –≤ –∏–∑—Ö–æ–¥–∞ –Ω–∞ user:info); –Ω—è–º–∞ –µ—Ñ–µ–∫—Ç –∏ –∑–∞–≤—ä—Ä—à–≤–∞ –Ω–µ—É—Å–ø–µ—à–Ω–æ, –∞–∫–æ
—Ç–æ–π –≤–µ—á–µ –µ –æ—Ç–∫–ª—é—á–µ–Ω
–í–∞—à–∞—Ç–∞ –∑–∞–¥–∞—á–∞:
–°–∫—Ä–∏–ø—Ç—ä—Ç sync-users.sh —Ç—Ä—è–±–≤–∞:
‚Ä¢ –ê–∫–æ –∑–∞ –¥–∞–¥–µ–Ω –ª–æ–∫–∞–ª–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –Ω—è–º–∞ —Å—ä–æ—Ç–≤–µ—Ç–µ–Ω PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª —Å—ä—Å —Å—ä—â–∏—è USERNAME,
–¥–∞ —Å—ä–∑–¥–∞–¥–µ PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –∑–∞ –Ω–µ–≥–æ.
‚Ä¢ –ê–∫–æ –∑–∞ –¥–∞–¥–µ–Ω –ª–æ–∫–∞–ª–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª, –Ω–æ —Ç–æ–π –µ –∑–∞–∫–ª—é—á–µ–Ω, –¥–∞ –æ—Ç–∫–ª—é—á–∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.
‚Ä¢ –ê–∫–æ –∑–∞ –¥–∞–¥–µ–Ω PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –ª–æ–∫–∞–ª–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª, –¥–∞ –∑–∞–∫–ª—é—á–∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è
PrevCloud –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.
–ó–∞–±–µ–ª–µ–∂–∫–∏ –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞:
‚Ä¢ –° —Ü–µ–ª –ø–æ-–ª–µ—Å–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ, –∞–∫–æ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ environment –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ PASSWD, –Ω–µ–∫–∞ —Å–∫—Ä–∏–ø—Ç—ä—Ç –∏–∑–ø–æ–ª–∑–≤–∞ —Ñ–∞–π–ª–∞, —á–∏–µ—Ç–æ –∏–º–µ –µ –ø–æ—Å–æ—á–µ–Ω–æ –≤ –Ω–µ—è, –≤–º–µ—Å—Ç–æ /etc/passwd, –∑–∞ –¥–∞ –≤–∑–µ–º–µ –ª–æ–∫–∞–ª–Ω–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏.
‚Ä¢ –ü—ä–ª–µ–Ω –±—Ä–æ–π —Ç–æ—á–∫–∏ —â–µ –ø–æ–ª—É—á–∞—Ç —Ä–µ—à–µ–Ω–∏—è, –≤ –∫–æ–∏—Ç–æ occ –∫–æ–º–∞–Ω–¥–∏—Ç–µ –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ, –∑–∞–∫–ª—é—á–≤–∞–Ω–µ –∏ –æ—Ç–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –Ω–µ —Å–µ –∏–∑–≤–∏–∫–≤–∞—Ç –∏–∑–ª–∏—à–Ω–æ (–Ω–∞–ø—Ä. –Ω–µ —Å–µ –∏–∑–≤–∏–∫–≤–∞ ./occ user:enable –∑–∞ PrevCloud
–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª, –∫–æ–π—Ç–æ –Ω–µ –µ –∑–∞–∫–ª—é—á–µ–Ω).
‚Ä¢ –ü—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ occ —Å–µ –Ω–∞–º–∏—Ä–∞ –≤ —Å—ä—â–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∫–∞—Ç–æ —Å–∫—Ä–∏–ø—Ç–∞ sync-users.sh. –ü–æ–¥—Å–∏–≥—É—Ä–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç—ä—Ç sync-users.sh –¥–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞–Ω –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ —Ç–µ–∫—É—â–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è.

```bash
#!/bin/bash

users=$(cat /etc/passwd | awk -F ':' '$3 > 1000 {print $0}' | cut -d ':' -f 5 | cut -d ',' -f 1)

while read line ; do

    ./occ user:info "${line}" >& /dev/null
    if [[ ${?} -ne 0 ]] ; then
        echo "Adding user: ${line}"
        ./occ user:add "${line}"
    fi

done < <(echo "${users}")

enable() {
    user="${1}"
    info="${2}"
    if [[ $(echo "${info}" | grep "enabled:" | cut -d ' ' -f 3 ) == "false" ]] ;
    then
        echo "Unlocking user: ${user} "
        ./occ user:enable "${user}"
    fi
}

disable() {
    user="${1}"
    info="${2}"
    if ! grep -q "${user}" <(echo "${users}") ; then
        if [[ $(echo "${info}" | grep "enabled:" | cut -d ' ' -f 3 ) == "true" ]] ; then
            echo "Blocking user: ${user}"
            ./occ user:disable "${user}"
        else
            echo "Not local user found: "${user}" and it is already blocked"
        fi
    fi
}

while read line ; do
    info=$(./occ user:info "${user}")
    enable "${line}" "${info}"
    disable "${line}" "${info}"
done < <(./occ user:list)

```

---

### `2025-IN-02`
–í–∞—à–∏—Ç–µ –∫–æ–ª–µ–≥–∏ –æ—Ç —Å—ä—Å–µ–¥–Ω–∞—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –∏–º–∞—Ç –Ω—É–∂–¥–∞ –¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞—Ç –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Ç–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤–∏–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –Ω–∞ –±–∞–∑–∞ –Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª (map.txt) —Å –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è. –í—Å–µ–∫–∏ —Ä–µ–¥ –Ω–∞ —Ñ–∞–π–ª–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω–æ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç —Ç—Ä–∏ –¥—É–º–∏ (–º–∞–ª–∫–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏), —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å
whitespace. –ü—Ä–∏–º–µ—Ä–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–∞:
alfa haydn degas
bravo rossini renoir
charlie schubert monet
delta berlioz monet
echo chopin renoir
foxtrot liszt monet
–°–µ–º–∞–Ω—Ç–∏—á–Ω–æ –¥—É–º–∏—Ç–µ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ –¥–µ—Ñ–∏–Ω–∏—Ä–∞—Ç:
‚Ä¢ –∏–º–µ –Ω–∞ —Å—ä—Ä–≤—ä—Ä (hostname) ‚Äì alfa, bravo, charlie...
‚Ä¢ –∏–º–µ –Ω–∞ –∑–æ–Ω–∞ (composer) ‚Äì haydn, rossini, schubert...
‚Ä¢ –∏–º–µ –Ω–∞ –µ–∫–∏–ø (artist) ‚Äì degas, renoir, monet...
–û–±—â–æ —Ñ–∞–π–ª—ä—Ç map.txt –æ–ø–∏—Å–≤–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç –µ–∫–∏–ø–∏, –∫–∞—Ç–æ –≤—Å–µ–∫–∏ –µ–∫–∏–ø —Å—ä–¥—ä—Ä–∂–∞ –µ–¥–∏–Ω –∏–ª–∏ –ø–æ–≤–µ—á–µ —Å—ä—Ä–≤—ä—Ä–∞;
–∞ –≤—Å–µ–∫–∏ —Å—ä—Ä–≤—ä—Ä –∏–º–∞ —Ç–æ—á–Ω–æ –µ–¥–Ω–∞ –∑–æ–Ω–∞.
–ü–æ–º–æ–≥–Ω–µ—Ç–µ –Ω–∞ –∫–æ–ª–µ–≥–∏—Ç–µ —Å–∏, –∫–∞—Ç–æ –Ω–∞–ø–∏—à–µ—Ç–µ bash —Å–∫—Ä–∏–ø—Ç foo.sh, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ ‚Äì –Ω–∏–∑, –¥–µ—Ñ–∏–Ω–∏—Ä–∞—â domain –∏ –∏–º–µ –Ω–∞ —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ.
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–∂–¥–∞ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—è –∏–∑—Ö–æ–¥ —Ä–µ–¥–æ–≤–µ, —Å—ä–¥—ä—Ä–∂–∞—â–∏ —Ä–µ–ª–∞—Ü–∏—è –∑–∞ –≤—Å—è–∫–∞ –∑–æ–Ω–∞ –∫—ä–º
–≤—Å–µ–∫–∏ —Å—ä—Ä–≤—ä—Ä –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è –µ–∫–∏–ø –≤ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ-–¥–æ–ª—É —Ñ–æ—Ä–º–∞—Ç. –ò–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ —Å–∞ –¥–æ–ø—ä–ª–Ω–µ–Ω–∏ —Å
–ø–æ–¥–∞–¥–µ–Ω–∏—è domain –∏ –∑–∞–≤—ä—Ä—à–≤–∞—Ç —Å —Ç–æ—á–∫–∞, –∫–∞—Ç–æ —Ä–µ–¥–æ–≤–µ—Ç–µ —Å —Ä–µ–ª–∞—Ü–∏–∏—Ç–µ –∑–∞ –¥–∞–¥–µ–Ω –µ–∫–∏–ø —Å–µ –ø—Ä–µ–¥—Ö–æ–∂–¥–∞—Ç –æ—Ç —Ä–µ–¥,
–∑–∞–ø–æ—á–≤–∞—â —Å—ä—Å –∑–Ω–∞–∫ –∑–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä (;) —Å –∏–º–µ—Ç–æ –Ω–∞ –µ–∫–∏–ø–∞.
–ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –∏ –∏–∑—Ö–æ–¥ –Ω–∞ –±–∞–∑–∞ –≥–æ—Ä–Ω–∏—è —Ñ–∞–π–ª:
```
$ foo.sh example.net map.txt
```
; team degas
haydn IN NS alfa.example.net.
; team monet
schubert IN NS charlie.example.net.
schubert IN NS delta.example.net.
39
schubert IN NS foxtrot.example.net.
berlioz IN NS charlie.example.net.
berlioz IN NS delta.example.net.
berlioz IN NS foxtrot.example.net.
liszt IN NS charlie.example.net.
liszt IN NS delta.example.net.
liszt IN NS foxtrot.example.net.
; team renoir
rossini IN NS bravo.example.net.
rossini IN NS echo.example.net.
chopin IN NS bravo.example.net.
chopin IN NS echo.example.net.

```bash
#!/bin/bash

if [[ "${#}" -ne 2 ]] ; then
    echo "Invalid number of parameters"
    exit 1
fi

if [[ -z "${1}" ]] || [[ ! "${1}" =~ ^([a-z]+.)+\.net$ ]] ; then
    echo "Invalid domain"
    exit 2
fi

domain="${1}"
map="${2}"

if [[ ! -f "${map}" ]] ; then
    echo "Second parameter shuld be a valid file"
    exit 3
fi

teams=$(cat "${map}" | cut -d ' ' -f 3 | sort | uniq)

while read team ; do
    echo "; team ${team}"

    matches_for_team=$(grep -E "^[a-z]+ [a-z]+ ${team}" "${map}")
    composers=$(echo "${matches_for_team}" | cut -d ' ' -f 2)
    hostnames=$(echo "${matches_for_team}" | cut -d ' ' -f 1)

    while read composer ; do

        while read hostname ; do

            echo "${composer} IN NS ${hostname}.${domain}."

        done < <(echo "${hostnames}")

    done < <(echo "${composers}")

done < <(echo "${teams}")

```

---

### `2024-IN-01`
–í–∞—à–∏—Ç–µ –∫–æ–ª–µ–≥–∏ –æ—Ç —Å—ä—Å–µ–¥–Ω–∞—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Å–µ –Ω—É–∂–¥–∞—è—Ç –æ—Ç shell —Å–∫—Ä–∏–ø—Ç, —Å –∫–æ–π—Ç–æ –¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—ä—Ä–≤—ä—Ä–∏. –°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞
rsync, –∫–æ—è—Ç–æ –∏–º–∞ —Å–ª–µ–¥–Ω–∏—è—Ç –æ–±—â –≤–∏–¥:
rsync [OPTION...] SRC DEST
–í —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞ —â–µ –ø–æ–ª–∑–≤–∞–º–µ —Å–ª–µ–¥–Ω–∏—è—Ç –æ–ø—Ä–æ—Å—Ç–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞:
‚Ä¢ –ø—Ä–∏ –∑–∞–¥–∞–¥–µ–Ω–∞ –æ–ø—Ü–∏—è -a –∏ –∞–∫–æ SRC –∏ DEST —Å–∞ –∞–±—Å–æ–ª—é—Ç–Ω–∏ –ø—ä—Ç–∏—â–∞ –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–≤—ä—Ä—à–≤–∞—â–∏
—Å –Ω–∞–∫–ª–æ–Ω–µ–Ω–∞ —á–µ—Ä—Ç–∞ (/path/to/dir/), –∫–æ–º–∞–Ω–¥–∞—Ç–∞ —â–µ –Ω–∞–ø—Ä–∞–≤–∏ –ø—ä–ª–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Å–∏—á–∫–∏
–æ–±–µ–∫—Ç–∏ (—Ñ–∞–π–ª–æ–≤–µ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏) —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—Ç SRC –≤ DEST, –∑–∞–ø–∞–∑–≤–∞–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞, –ø—Ä–∞–≤–∞—Ç–∞ –∏
—Å–æ–±—Å—Ç–≤–µ–Ω–∏—Ü–∏—Ç–µ –Ω–∞ –æ–±–µ–∫—Ç–∏—Ç–µ, –∫–æ–∏—Ç–æ –∫–æ–ø–∏—Ä–∞;
‚Ä¢ –¥–≤–µ—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ SRC –∏ DEST –±–∏—Ö–∞ –º–æ–≥–ª–∏ –¥–∞ —Å–∞ –ª–æ–∫–∞–ª–Ω–∏ –∏–ª–∏ —Å–∞–º–æ –µ–¥–Ω–∞ –æ—Ç —Ç—è—Ö –º–æ–∂–µ –¥–∞ –µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–∞ –¥—Ä—É–≥ —Å—ä—Ä–≤—ä—Ä, –≤ –∫–æ–π—Ç–æ —Å–ª—É—á–∞–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—ä—Ç –µ username@server:/path/to/dir/
‚Ä¢ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ –≤–∏–Ω–∞–≥–∏ –µ –æ—Ç SRC –∫—ä–º DEST, –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–ª–∏ –∏ –¥–≤–µ—Ç–µ —Å–∞ –ª–æ–∫–∞–ª–Ω–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
–∏–ª–∏ –µ–¥–Ω–∞ –æ—Ç —Ç—è—Ö –µ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∞;
‚Ä¢ –ø—Ä–∏ –∑–∞–¥–∞–¥–µ–Ω–∞ –æ–ø—Ü–∏—è --delete –æ–±–µ–∫—Ç–∏, –∫–æ–∏—Ç–æ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –≤ DEST, –Ω–æ –Ω–µ –∏ –≤ SRC, —â–µ –±—ä–¥–∞—Ç –∏–∑—Ç—Ä–∏—Ç–∏
–∑–∞ –¥–∞ –º–æ–∂–µ DEST –¥–∞ –µ —Ç–æ—á–Ω–æ –∫–æ–ø–∏–µ –Ω–∞ SRC;
‚Ä¢ –ø—Ä–∏ –∑–∞–¥–∞–¥–µ–Ω–∞ –æ–ø—Ü–∏—è -v –∫–æ–º–∞–Ω–¥–∞—Ç–∞ –∏–∑–≤–µ–∂–¥–∞ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –æ–±–µ–∫—Ç–∏—Ç–µ –∫–æ–∏—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞;
‚Ä¢ –ø—Ä–∏ –∑–∞–¥–∞–¥–µ–Ω–∞ –æ–ø—Ü–∏—è -n —Ä–µ–∞–ª–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ —Å–µ –∏–∑–≤—ä—Ä—à–≤–∞, –∫–æ–º–∞–Ω–¥–∞—Ç–∞ —Å–∞–º–æ –ø—Ä–µ—Å–º—è—Ç–∞ –∫–æ–∏
–æ–±–µ–∫—Ç–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞—Ç, –∏ –∞–∫–æ –∏–º–∞ —É–∫–∞–∑–∞–Ω–∞ –∏ –æ–ø—Ü–∏—è -v –∏–∑–≤–µ–∂–¥–∞ –∏–º–µ–Ω–∞—Ç–∞ –∏–º.
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –¥–∞ –º–æ–∂–µ –¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –º–µ–∂–¥—É —Ç–µ–∫—É—â–∞—Ç–∞
–º–∞—à–∏–Ω–∞ (–Ω–∞ –∫–æ—è—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∫—Ä–∏–ø—Ç–∞) –∏ –µ–¥–Ω–∞ –∏–ª–∏ –ø–æ–≤–µ—á–µ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∏ –º–∞—à–∏–Ω–∏. –†–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞
–∑–∞–≤–∏—Å–∏ –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª, —á–∏–µ—Ç–æ –∏–º–µ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –µ —É–∫–∞–∑–∞–Ω–æ –≤ environment –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ ARKCONF. –í—Å–µ–∫–∏ —Ä–µ–¥ –Ω–∞ —Ñ–∞–π–ª–∞ –µ –≤—ä–≤ –≤–∏–¥ –Ω–∞ key=value –¥–≤–æ–π–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
WHAT="/home/amarr/sync"
WHERE="abaddon apostle archon augur"
WHO="heideran"
–ö—ä–¥–µ—Ç–æ:
‚Ä¢ WHAT –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –∞–±—Å–æ–ª—é—Ç–µ–Ω –ø—ä—Ç –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞, –∫–æ—è—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞, –∫–∞—Ç–æ –¥–µ—Ñ–∏–Ω–∏—Ü–∏—è—Ç–∞ —Å–µ –æ—Ç–Ω–∞—Å—è –∫–∞–∫—Ç–æ –∑–∞ –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–Ω–∞ –º–∞—à–∏–Ω–∞—Ç–∞ –Ω–∞ –∫–æ—è—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∫—Ä–∏–ø—Ç–∞),
—Ç–∞–∫–∞ –∏ –∑–∞ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∏—Ç–µ —Å—ä—Ä–≤—ä—Ä–∏, —Ç.–µ., –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ –∏–º–∞ –µ–¥–Ω–∞–∫–≤–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –∏–º–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –º–∞—à–∏–Ω–∏;
‚Ä¢ WHERE –¥–µ—Ñ–∏–Ω–∏—Ä–∞ —Å–ø–∏—Å—ä–∫ —Å—ä—Å —Å—ä—Ä–≤—ä—Ä–∏, —Å –∫–æ–∏—Ç–æ –¥–∞ —Å–µ –∏–∑–≤—ä—Ä—à–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –∫–∞—Ç–æ –µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω–æ,
—á–µ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ —Å–∞ —Å–∞–º–æ –º–∞–ª–∫–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏ –∏ –ø—ä—Ä–≤–∞—Ç–∞ –±—É–∫–≤–∞ –µ –≤–∏–Ω–∞–≥–∏ ‚Äòa‚Äô;
‚Ä¢ WHO –¥–µ—Ñ–∏–Ω–∏—Ä–∞ username, –∫–æ–π—Ç–æ –¥–∞ —Å–µ –ø–æ–ª–∑–≤–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∏—Ç–µ —Å—ä—Ä–≤—ä—Ä–∏ (–≤—Å–∏—á–∫–∏ —Å—ä—Ä–≤—ä—Ä–∏
–ø–æ–ª–∑–≤–∞—Ç —Ç–æ–∑–∏ username).
–ó–∞ –Ω–æ—Ä–º–∞–ª–Ω–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –≤–∞—à–∏—è —Å–∫—Ä–∏–ø—Ç —Å–µ –∏–∑–∏—Å–∫–≤–∞ –∏ —Ç—Ä–∏—Ç–µ –∫–ª—é—á–∞ –¥–∞ —Å–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏, –∫–∞—Ç–æ –∑–∞ —É–¥–æ–±—Å—Ç–≤–æ
–ø—Ä–∏–µ–º–∞–º–µ, —á–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –∏–º —Ç–æ—á–Ω–æ —Å–ø–∞–∑–≤–∞—Ç –ø—Ä–∏–º–µ—Ä–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç. –ö–æ–º–±–∏–Ω–∞—Ü–∏—è—Ç–∞ –æ—Ç –≤–∞—à–∏—è—Ç —Å–∫—Ä–∏–ø—Ç –∏
–≤–∞–ª–∏–¥–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª —â–µ –Ω–∞—Ä–∏—á–∞–º–µ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è. –û–±—â –≤–∏–¥ –Ω–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞
—Å–∫—Ä–∏–ø—Ç–∞: ark.sh push|pull [-d] [server] –∫—ä–¥–µ—Ç–æ:
‚Ä¢ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ –Ω–µ —Å–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏, —Ç.–µ. –Ω—è–º–∞—Ç –Ω–∞—Ä–µ–¥–±–∞;
‚Ä¢ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ, –æ–≥—Ä–∞–¥–µ–Ω–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏ —Å–∫–æ–±–∏ (-d, server) –Ω–µ —Å–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏;
‚Ä¢ –∞–∫–æ –µ –∑–∞–¥–∞–¥–µ–Ω –≤–∞–ª–∏–¥–µ–Ω –∑–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä server, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ —Å–µ –∏–∑–≤—ä—Ä—à–≤–∞ —Å–∞–º–æ –º–µ–∂–¥—É –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º–∞—à–∏–Ω–∞ –∏ —Ç–æ–∑–∏ —Å—ä—Ä–≤—ä—Ä;
‚Ä¢ –∞–∫–æ –Ω–µ —É–∫–∞–∑–∞–Ω server, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ —Å–µ –∏–∑–≤—ä—Ä—à–≤–∞ –º–µ–∂–¥—É –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º–∞—à–∏–Ω–∞ –∏ –≤—Å–µ–∫–∏ –æ—Ç —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ (–ø–æ —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ);
‚Ä¢ –∞–∫–æ –µ –∑–∞–¥–∞–¥–µ–Ω–∞ –æ–ø—Ü–∏—è -d, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∏–∑–≤—ä—Ä—à–≤–∞ —Å –≤–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è --delete
–Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ rsync;
‚Ä¢ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω —Ç–æ—á–Ω–æ –µ–¥–∏–Ω –æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ push –∏–ª–∏ pull, —Ç—ä–π –∫–∞—Ç–æ —Ç–µ —Å–∞
–ø–æ–¥-–∫–æ–º–∞–Ω–¥–∏, –∫–æ–∏—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç –ø–æ—Å–æ–∫–∞—Ç–∞ –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
‚Äì –ø—Ä–∏ push ‚Äì –æ—Ç –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º–∞—à–∏–Ω–∞ –∫—ä–º –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∏—Ç–µ —Å—ä—Ä–≤—ä—Ä–∏;
‚Äì –ø—Ä–∏ pull ‚Äì –æ—Ç –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∏—Ç–µ —Å—ä—Ä–≤—ä—Ä–∏ –∫—ä–º –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º–∞—à–∏–Ω–∞.
–ü—Ä–∏–º–µ—Ä–Ω–∏ –≤–∞–ª–∏–¥–Ω–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è:
ark.sh push -d
ark.sh -d abaddon pull
ark.sh apostle pull
–í—Å—è–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –µ —Ç—Ä–∏—Å—Ç—ä–ø–∫–æ–≤–∞ ‚Äì —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞:
‚Ä¢ –∏–∑–≤–µ–¥–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∫–∞–∫–≤–æ —â–µ –±—ä–¥–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞–Ω–æ;
‚Ä¢ –∏–∑–∏—Å–∫–∞ –Ω—è–∫–∞–∫—ä–≤ –≤–∏–¥ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è;
‚Ä¢ –∏–∑–≤—ä—Ä—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.
–û–±—ä—Ä–Ω–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞, –∏—Å–∫–∞–º–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –∑–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞ –µ —É—Å—Ç–æ–π—á–∏–≤–∞ –Ω–∞ –Ω–µ–≤–Ω–∏–º–∞—Ç–µ–ª–Ω–æ –ø–æ–¥–∞–¥–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏.


```bash
#!/bin/bash

seen_command=0
command=""
flag=""
server=""
source "${ARKCONF}"

for arg in "${@}" ; do
    if [[ "${arg}" == "push" ]] || [[ "${arg}" == "pull" ]] ; then
        if [[ "${seen_command}" -eq 1 ]] ; then
            echo "One command at a time"
            exit 1
        fi
        command="${arg}"
        seen_command=1
    elif [[ "${arg}" == "-d" ]] ; then
        flag="-d"
    else
        server="${arg}"
    fi
done


if [[ "${seen_command}" -eq 0 ]] ; then
    echo "Missing mode"
    exit 2
fi

if [[ -z "${ARKCONF}" ]] || [[ ! -f "${ARKCONF}" ]] ; then
    echo "Conf file does not exist"
    exit 3
fi

if [[ -z "${WHAT}" || -z "${WHERE}" || -z "${WHO}" ]] ; then
    echo "Invalid conf file content"
    exit 4
fi

if [[ -n "${target}" ]] ; then
    if ! echo "${WHERE}" | grep -q "${server}" ; then
        echo "Invalid server"
        exit 5
    fi
    servers="${server}"
else
    servers="${WHERE}"
fi

for server in ${SERVERS} ; do
    echo "${server}"
    if [[ "${command}" == "push" ]] ; then
        SRC="${WHAT}"
        DEST="${WHO}@${server}:${WHAT}"
    else
        SRC="${WHO}@${server}:${WHAT}"
        DEST="${WHAT}"
    fi

    rsync -anv $D_FLAG -e ssh "${SRC}" "${DEST}"

    read -p "Continue with synchronization (y/n): " CONFIRM
    if [[ "$CONFIRM" != "y" ]]; then
        echo "Skipping $server."
        continue
    fi

    echo "Synchronizing $server..."
    rsync -av $D_FLAG -e ssh "$SRC" "$DEST"

done

```

---

### `2024-SE-06`
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç reconcile.sh, –∫–æ–π—Ç–æ –ø–æ –ø–æ–¥–∞–¥–µ–Ω —Ñ–∞–π–ª –æ–ø–∏—Å–≤–∞—â –∂–µ–ª–∞–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–∞—Ç–∞
—Å–∏—Å—Ç–µ–º–∞, –æ—Å–∏–≥—É—Ä—è–≤–∞, —á–µ —Ç–æ –µ —Å–ø–∞–∑–µ–Ω–æ.
–°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–∏–µ–º–∞ –µ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç - –ø—ä—Ç –¥–æ —Ñ–∞–π–ª. –í—Å–µ–∫–∏ —Ä–µ–¥ –≤ —Ç–æ–∑–∏ —Ñ–∞–π–ª —â–µ –±—ä–¥–µ –≤ –µ–¥–∏–Ω –æ—Ç
—Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏:
‚Ä¢ <filename> file <permissions>
–°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–¥—Å–∏–≥—É—Ä–∏, —á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∏—è—Ç —Ñ–∞–π–ª <filename> —Å –ø—Ä–∞–≤–∞ –∑–∞
–¥–æ—Å—Ç—ä–ø <permissions>.
‚Ä¢ <dirname> dir <permissions>
–°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–¥—Å–∏–≥—É—Ä–∏, —á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ <dirname> —Å –ø—Ä–∞–≤–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø
<permissions>.
‚Ä¢ <linkname> symlink <target>
–°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–¥—Å–∏–≥—É—Ä–∏, —á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ —Ñ–∞–π–ª—ä—Ç <linkname> –æ—Ç —Ç–∏–ø symbolic link, –∫–æ–π—Ç–æ
–¥–∞ —Å–æ—á–∏ –∫—ä–º —Ñ–∞–π–ª–∞ <target>.
‚Ä¢ <filename> nonexistant
–°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–¥—Å–∏–≥—É—Ä–∏, —á–µ —Ñ–∞–π–ª—ä—Ç <filename> –Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞.
–ü—Ä–µ–¥–∏ –≤—Å—è–∫–∞ –ø–æ—è–≤–∞ –Ω–∞ <permissions> –µ –≤—ä–∑–º–æ–∂–Ω–æ –¥–∞ –µ –ø–æ–¥–∞–¥–µ–Ω–∞ –∏ –Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∞ –¥–≤–æ–π–∫–∞ <user owner>:<group
owner>, –∫–æ–∏—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –∏ –≥—Ä—É–ø–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –∑–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è —Ñ–∞–π–ª. –°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–¥—Å–∏–≥—É—Ä–∏, —á–µ —Ñ–∞–π–ª—ä—Ç —â–µ –ø—Ä–∏—Ç–µ–∂–∞–≤–∞ –∏–º–µ–Ω–Ω–æ —Ç–µ–∑–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–∏—Ü–∏.
–ü—Ä–∏–º–µ—Ä–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–∞:
/home dir root:users 0755
/home/pesho dir pesho:pesho 0700
/home/pesho/some_file file 0644
/home/pesho/some_dir dir 0755
/home/pesho/some_dir/some_link symlink ../some_file
/home/pesho/some_dir file 0755
/home/pesho/some_other_dir nonexistant
–ó–∞ –≤—Å–µ–∫–∏ <filename>, <dirname> –∏ <linkname>, –∞–∫–æ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç —Ñ–∞–π–ª:
‚Ä¢ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞, –Ω–æ –µ –æ—Ç –¥—Ä—É–≥ —Ç–∏–ø, —Ç–æ —Å–ª–µ–¥–≤–∞ —Ç–æ–π –¥–∞ –±—ä–¥–µ –∏–∑—Ç—Ä–∏—Ç –∏ –ø—Ä–µ—Å—ä–∑–¥–∞–¥–µ–Ω —Å –∂–µ–ª–∞–Ω–∏—è —Ç–∏–ø –∏
–º–µ—Ç–∞–¥–∞–Ω–Ω–∏.
‚Ä¢ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –∏ –µ –æ—Ç –∂–µ–ª–∞–Ω–∏—è —Ç–∏–ø, —Ç–æ —Ç—Ä—è–±–≤–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ –º–µ—Ç–∞–¥–∞–Ω–Ω–∏—Ç–µ –¥–∞ –±—ä–¥–∞—Ç –æ–±–Ω–æ–≤–µ–Ω–∏, –∞–∫–æ
–µ –Ω—É–∂–Ω–æ.
‚Ä¢ –Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞, —Ç–æ —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —Å—ä–∑–¥–∞–¥–µ–Ω. –ê–∫–æ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –≤ –∫–æ—è—Ç–æ —Å–µ –Ω–∞–º–∏—Ä–∞,
–Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞, —Ç—è —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —Å—ä–∑–¥–∞–¥–µ–Ω–∞ —Å–ø—Ä—è–º–æ —Ç–µ–∫—É—â–∞—Ç–∞ –º–∞—Å–∫–∞.
–í—ä–∑–º–æ–∂–Ω–æ –µ –Ω—è–∫–æ–ª–∫–æ —Ä–µ–¥–∞ –≤—ä–≤ —Ñ–∞–π–ª–∞ –¥–∞ —Ä–µ—Ñ–µ—Ä–∏—Ä–∞—Ç –∫—ä–º –µ–¥–Ω–æ –∏ —Å—ä—â–æ –∏–º–µ –≤—ä–≤ —Ñ–∞–π–ª–æ–≤–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞. –í
—Ç–∞–∫—ä–≤ —Å–ª—É—á–∞–π –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –ø–æ—Å–ª–µ–¥–Ω–∏—è—Ç —Ä–µ–¥ –µ —Ñ–∏–Ω–∞–ª–Ω–æ—Ç–æ –∂–µ–ª–∞–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ.
–í–ê–ñ–ù–û: –°–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞–Ω –æ—Ç –≤—Å—è–∫–∞–∫—ä–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –≤—ä–≤ –≤—Å—è–∫–∞–∫–≤–∞ —Å—Ä–µ–¥–∞. –í–∞–∂–Ω–∞ –µ
–ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞ –∑–∞ –≥—Ä–µ—à–∫–∏ –∏ –æ–±—Ä–∞—Ç–Ω–∞—Ç–∞ –≤—Ä—ä–∑–∫–∞ –∫—ä–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –ø—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è. –ü—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω–∞
–æ–ø–µ—Ä–∞—Ü–∏—è, —Å–∫—Ä–∏–ø—Ç—ä—Ç –≤–∏ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–∏–∫–ª—é—á–≤–∞ —Ä–∞–±–æ—Ç–∞.

```bash
#!/bin/bash

if [[ "${#}" -ne 1 ]] ; then
    echo "Invalid number of parameters"
    exit 1
fi

if [[ ! -f "${1}" ]] ; then
    echo "Invalid file"
    exit 2
fi

file="${1}"

change_owners() {
    path="${1}"
    user_group="${2}"
    real_owners=$(stat -c "%U:%G" "${path}")
    if [[ -n ${user_group} ]] && [[ "${real_owners}" != "${user_group}" ]] ;
        chown "${user_group}" "${path}"
    fi
}

change_perms() {
    path="${1}"
    permissions="${2}"
    real_perms=$(stat -c '%a' "${path}")
    if [[ $(echo "${permissions}" | cut -c 2-) -ne "${real_perms}" ]] ;
        chmod "${permissions}" "${path}"
    fi
}

delete_file() {
    path="${1}"
    real_type=$(stat -c '%F' "$path")
    if [[ "${real_type}" == "directory" ]] ; then
        rm -r "${path}"
    else 
        rm "${path}"
    fi
}

to_ignore=$(mktemp)

clear_data() {
    file="${1}"
    while read line ; do
        type=$(echo "${line}" | cut -d ' ' -f 2) 
        if [[ "${type}" == "symlink" ]] ; then
            path=$(echo "${line}" | cut -d ' ' -f 3)
        else
            path=$(echo "${line}" | cut -d ' ' -f 1)
        fi

        same_files=$(echo ${line} | grep "${path}")
        if [[ $(echo "${same_files}" | wc -l) -gt 1 ]] ; then
            echo "${same_files}" | head -n -1  >> "${to_ignore}"
        fi
    done < "${file}"
}

clear_data "${file}"

while read line ; do
    path=$(echo "${line}" | cut -d ' ' -f 1)
    type=$(echo "${line}" | cut -d ' ' -f 2) 
    permissions=$(echo "${line}" | grep -E -o " [0-7]{4}")

    if [[ "${type}" == "nonexistant" ]] ; then
        if [[ -e "${path}" ]] ; then
            delete_file "${path}"
        fi
        continue
    fi

    user_group=$(echo "${line}" | sed -E "/^${path} ${type}/d" | sed -E "s/((a-zA-Z]+:[a-zA-Z]+){0,1}) [0-9]{4}/\1/")

    if [[ "${type}" == "symlink" ]] ; then
        target=$(echo "${line}" | cut -d ' ' -f 3)
        if [[ -e "${path}" ]] && [[ ! -L "${path}" ]] ; then
            delete_file "${path}"
        fi
        ln -s "${target}" "${path}"
    elif [[ "${type}" == "file" ]] ; then
        if [[ -e "${path}" ]] && [[ ! -f "${path}" ]] ; then
            delete_file ${path}
            
            dir=$(dirname "${path}")
            mkdir -p "${dir}"
            touch "${path}"
            chmod -r "${permissions}" "${path}"
            if [[ -n "${user_group}" ]] ; then
                chown "${user_group}" "${path}"
            fi
        elif [[ -f "${perms}" ]] ; then
            change_perms "${path}" "${permissions}"
            change_owners "${path}" "${user_group}"
        else
            dir=$(dirname "${path}")
            mkdir -p "${dir}"
            touch "${path}"
        fi
    elif [[ "${type}" == "dir" ]] ; then
        if [[ -e "${path}" ]] && [[ ! -d  "${path}" ]] ; then
            delete_file ${path}

            mkdir -p "${path}"        
            chmod -r "${permissions}" "${path}"
            if [[ -n "${user_group}" ]] ; then
                chown "${user_group}" "${path}"
            fi
        elif [[ -d "${path}" ]] ;
            change_perms "${path}" "${permissions}"
            change_owners "${path}" "${user_group}"
        else 
            mkdir -p "${path}"        
        fi
    fi
done < <(grep -v -f "${to_ignore}" "${file}")

rm ${to_ignore}
```