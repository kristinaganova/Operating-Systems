2016-SE-04 
Ð’ Ñ‚ÐµÐºÑƒÑ‰Ð°Ñ‚Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð¸Ð¼Ð° ÑÐ°Ð¼Ð¾ Ð¾Ð±Ð¸ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ (Ð±ÐµÐ· Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸). Ð”Ð° ÑÐµ Ð½Ð°Ð¿Ð¸ÑˆÐµ
bash script, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð° 2 Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€Ð° â€“ Ñ‡Ð¸ÑÐ»Ð°, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¼ÐµÑÑ‚Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²ÐµÑ‚Ðµ Ð¾Ñ‚ Ñ‚ÐµÐºÑƒÑ‰Ð°Ñ‚Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ 
ÐºÑŠÐ¼ Ð½Ð¾Ð²Ð¸ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ (a, b Ð¸ c, ÐºÐ¾Ð¸Ñ‚Ð¾ Ñ‚Ñ€Ñ Ð´Ð° Ð±ÑŠÐ´Ð°Ñ‚ ÑÑŠÐ·Ð´Ð°Ð´ÐµÐ½Ð¸), ÐºÐ°Ñ‚Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½ Ñ„Ð°Ð¹Ð» ÑÐµ
Ð¼ÐµÑÑ‚Ð¸ ÐºÑŠÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ â€™aâ€™, ÑÐ°Ð¼Ð¾ Ð°ÐºÐ¾ Ñ‚Ð¾Ð¹ Ð¸Ð¼Ð° Ð¿Ð¾-Ð¼Ð°Ð»ÐºÐ¾ Ñ€ÐµÐ´Ð¾Ð²Ðµ Ð¾Ñ‚ Ð¿ÑŠÑ€Ð²Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½ÐµÐ½ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€, Ð¼ÐµÑÑ‚Ð¸
ÐºÑŠÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ â€™bâ€™, Ð°ÐºÐ¾ Ñ€ÐµÐ´Ð¾Ð²Ðµ ÑÐ° Ð¼ÐµÐ¶Ð´Ñƒ Ð¿ÑŠÑ€Ð²Ð¸ Ð¸ Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½ÐµÐ½ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€ Ð¸ Ð² â€™câ€™ Ð² Ð¾ÑÑ‚Ð°Ð½Ð°Ð»Ð¸Ñ‚Ðµ
ÑÐ»ÑƒÑ‡Ð°Ð¸.

#!/bin/bash

if [[ "${#}" -ne 2 ]] ;
then 
    echo "Two parameters allowed"
    exit 1
fi

if [[ ! "${1}" =~ ^[0-9]+$ ]] || [[ ! "${2}" =~ ^[0-9]+$ ]] ;
then 
    echo "Parameters should be numbers"
    exit 2
fi

for file in $(find . -mindepth 1 -maxdepth 1 -type f ) 
do
    lines_count=$(cat "${file}" | wc -l)
    if [[ "${lines_count}" -lt "${1}" ]] ;
    then 
        mv "${file}" ./a
    elif [[ "${lines_count}" -gt "${1}" ]] || [[ "${lines_count}" -lt "${2}" ]] ;
    then 
        mv "${file}" ./b
    else
        mv "${file}" ./c
    fi
done


 2017-IN-01 
 ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð° Ñ‚Ñ€Ð¸ Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¾Ð½Ð½Ð¸ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°:
â€¢ Ð¸Ð¼Ðµ Ð½Ð° Ñ„Ð°Ð¸Ð»
â€¢ Ð½Ð¸Ð·1
â€¢ Ð½Ð¸Ð·2
Ð¤Ð°Ð¹Ð»ÑŠÑ‚ Ðµ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸, Ð¸ ÑÑŠÐ´ÑŠÑ€Ð¶Ð° Ñ€ÐµÐ´Ð¾Ð²Ðµ Ð²ÑŠÐ² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚:
ÐºÐ»ÑŽÑ‡=ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚
ÐºÑŠÐ´ÐµÑ‚Ð¾ ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ Ð¼Ð¾Ð¶Ðµ Ð´Ð° Ð±ÑŠÐ´Ðµ:
â€¢ Ð¿Ñ€Ð°Ð·ÐµÐ½ Ð½Ð¸Ð·, Ñ‚.Ðµ. Ñ€ÐµÐ´ÑŠÑ‚ Ðµ ÐºÐ»ÑŽÑ‡=
â€¢ Ð½Ð¸Ð·, ÑÑŠÑÑ‚Ð¾ÑÑ‰ ÑÐµ Ð¾Ñ‚ ÐµÐ´Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð¾Ð²ÐµÑ‡Ðµ Ñ‚ÐµÑ€Ð¼Ð¾Ð²Ðµ, Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸ Ñ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð¸, Ñ‚.Ðµ., Ñ€ÐµÐ´ÑŠÑ‚ Ðµ ÐºÐ»ÑŽÑ‡=ð‘¡1
ð‘¡2
ð‘¡3
ÐÑÐºÑŠÐ´Ðµ Ð²ÑŠÐ² Ñ„Ð°Ð¹Ð»Ð°:
â€¢ ÑÐµ ÑÑŠÐ´ÑŠÑ€Ð¶Ð° ÐµÐ´Ð¸Ð½ Ñ€ÐµÐ´ Ñ ÐºÐ»ÑŽÑ‡ Ð¿ÑŠÑ€Ð²Ð¸Ñ Ð¿Ð¾Ð´Ð°Ð´ÐµÐ½ Ð½Ð¸Ð· (Ð½Ð¸Ð·1);
â€¢ Ð¸ Ð¼Ð¾Ð¶Ðµ Ð´Ð° ÑÐµ ÑÑŠÐ´ÑŠÑ€Ð¶Ð° ÐµÐ´Ð¸Ð½ Ñ€ÐµÐ´ Ñ ÐºÐ»ÑŽÑ‡ Ð²Ñ‚Ð¾Ñ€Ð¸Ñ Ð¿Ð¾Ð´Ð°Ð´ÐµÐ½ Ð½Ð¸Ð· (Ð½Ð¸Ð·2).
Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð¿Ñ€Ð¾Ð¼ÐµÐ½Ñ Ñ€ÐµÐ´Ð° Ñ ÐºÐ»ÑŽÑ‡ Ð½Ð¸Ð·2 Ñ‚Ð°ÐºÐ°, Ñ‡Ðµ Ð¾Ð±ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸ÐµÑ‚Ð¾ Ð½Ð° Ñ‚ÐµÑ€Ð¼Ð¾Ð²ÐµÑ‚Ðµ Ð½Ð° Ñ€ÐµÐ´Ð¾Ð²ÐµÑ‚Ðµ Ñ ÐºÐ»ÑŽÑ‡Ð¾Ð²Ðµ Ð½Ð¸Ð·1 Ð¸ Ð½Ð¸Ð·2 Ð´Ð° Ð²ÐºÐ»ÑŽÑ‡Ð²Ð° Ð²ÑÐµÐºÐ¸ Ñ‚ÐµÑ€Ð¼ ÐµÐ´Ð½Ð¾ÐºÑ€Ð°Ñ‚Ð½Ð¾.
ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ Ð²Ñ…Ð¾Ð´ÐµÐ½ Ñ„Ð°Ð¹Ð»:
$ cat z1.txt
FOO=73
BAR=42
BAZ=
ENABLED_OPTIONS=a b c d
ENABLED_OPTIONS_EXTRA=c e f
ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ð¸Ð·Ð²Ð¸ÐºÐ²Ð°Ð½Ðµ:
$ ./a.sh z1.txt ENABLED_OPTIONS ENABLED_OPTIONS_EXTRA
Ð˜Ð·Ñ…Ð¾Ð´ÐµÐ½ Ñ„Ð°Ð¹Ð»:
$ cat z1.txt
FOO=73
BAR=42
7
BAZ=
ENABLED_OPTIONS=a b c d
ENABLED_OPTIONS_EXTRA=e f

#!/bin/bash

if [[ "${#}" -ne 3 ]] ;
then
    echo "Invalid number of parameters"
    exit 1
fi

if [[ ! -f "${1}" ]] ;
then
    echo "Invalid file"
    exit 2
fi

if [[ -z "${3}" ]] || [[ -z "${2}" ]] ;
then
    echo "Empty string"
    exit 3
fi

terms1=$(egrep "^${2}=.*" "${1}" | cut -d '=' -f 2 | tr ' ' '\n' )
terms2=$(egrep "^${3}=.*" "${1}" | cut -d '=' -f 2 | tr ' ' '\n' )

for line in ${terms2} ;
do
    if ! echo "${terms1}" | grep -qxF "${line}" ;
    then
       result+="${line} "
    fi
done

sed -i -E "s:(${3}=).*:\1${result}:g" "${1}"

2017-SE-01
ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ð²Ð° Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»ÐµÐ½ Ð¿ÑŠÑ€Ð²Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½ÐµÐ½ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€ â€“ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ Ð½ÐµÐ·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»ÐµÐ½ Ð²Ñ‚Ð¾Ñ€Ð¸ â€“ Ñ‡Ð¸ÑÐ»Ð¾. Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ²Ð° Ð¿Ð¾Ð´Ð°Ð´ÐµÐ½Ð°Ñ‚Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ Ð½ÐµÐ¹Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´-Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¸ Ð´Ð° Ð¸Ð·Ð²ÐµÐ¶Ð´Ð° Ð¸Ð¼ÐµÐ½Ð°Ñ‚Ð° Ð½Ð°:
Ð°) Ð¿Ñ€Ð¸ Ð¿Ð¾Ð´Ð°Ð´ÐµÐ½ Ð½Ð° ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€ â€“ Ð²ÑÐ¸Ñ‡ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ Ñ Ð±Ñ€Ð¾Ð¹ hardlink-Ð¾Ð²Ðµ Ð¿Ð¾Ð½Ðµ Ñ€Ð°Ð²ÐµÐ½ Ð½Ð°
Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€Ð°;
Ð±) Ð¿Ñ€Ð¸ Ð»Ð¸Ð¿ÑÐ° Ð½Ð° Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€ â€“ Ð²ÑÐ¸Ñ‡ÐºÐ¸ symlink-Ð¾Ð²Ðµ Ñ Ð½ÐµÑÑŠÑ‰ÐµÑÑ‚Ð²ÑƒÐ²Ð°Ñ‰ destination (ÑÑ‡ÑƒÐ¿ÐµÐ½Ð¸ symlinkÐ¾Ð²Ðµ).
Ð—Ð°Ð±ÐµÐ»ÐµÐ¶ÐºÐ°:Ð—Ð° ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð°Ð¼Ðµ, Ñ‡Ðµ Ð°ÐºÐ¾ Ð¸Ð¼Ð° Ð¿Ð¾Ð´Ð°Ð´ÐµÐ½ Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€, Ñ‚Ð¾ Ñ‚Ð¾Ð¹ Ðµ Ñ‡Ð¸ÑÐ»Ð¾

#!/bin/bash

if [[ ! -d "${1}" ]] ;
then
    echo "First parameter should be a directory"
    exit 1
fi

if [[ "${#}" -eq 2 ]] ;
then
    if [[ "${2}" =~ ^[0-9]+$ ]] ;
    then
        find "${1}" -mindepth 1 -type f  -exec stat -c "%h %n\n" {} \; | awk -v var=${2} '{if ($1>=var) print $2}'
    else
        echo "Invalid second parameter"
        exit 2
    fi
elif [[ "${#}" -eq 1 ]] ;
then
    find "${1}" -mindepth 1 -type l -exec test ! -e {} \; -print
fi

2017-SE-02 
ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð° Ñ‚Ñ€Ð¸ Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð° - Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ
SRC, Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ DST (ÐºÐ¾ÑÑ‚Ð¾ Ð½Ðµ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ) Ð¸ Ð½Ð¸Ð· ÐBC. ÐÐºÐ¾ ÑÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ ÑÐµ Ð¸Ð·Ð¿ÑŠÐ»Ð½ÑÐ²Ð°
Ð¾Ñ‚ root Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¸Ñ‚ÐµÐ»Ñ, Ñ‚Ð¾ Ñ‚Ð¾Ð¹ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð½Ð°Ð¼Ð¸Ñ€Ð° Ð²ÑÐ¸Ñ‡ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑÑ‚Ð° SRC Ð¸ Ð½ÐµÐ¹Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸, 
ÐºÐ¾Ð¸Ñ‚Ð¾ Ð¸Ð¼Ð°Ñ‚ Ð² Ð¸Ð¼ÐµÑ‚Ð¾ ÑÐ¸ ÐºÐ°Ñ‚Ð¾ Ð¿Ð¾Ð´-Ð½Ð¸Ð· ÐBC, Ð¸ Ð´Ð° Ð³Ð¸ Ð¼ÐµÑÑ‚Ð¸ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑÑ‚Ð° DST, Ð·Ð°Ð¿Ð°Ð·Ð²Ð°Ð¹ÐºÐ¸
Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¹Ð½Ð°Ñ‚Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° (Ð½Ð¾ Ð±ÐµÐ· Ð´Ð° Ð·Ð°Ð¿Ð°Ð·Ð²Ð° Ð¼ÐµÑ‚Ð°-Ð´Ð°Ð½Ð½Ð¸ ÐºÐ°Ñ‚Ð¾ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð¸Ðº Ð¸ Ð¿Ñ€Ð°Ð²Ð°, Ñ‚.Ðµ. Ð½Ðµ Ð½Ð¸ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐ²Ð°Ñ‚ 
Ñ‚ÐµÐ·Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸ Ð½Ð° Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸, ÐºÐ¾Ð¸Ñ‚Ð¾ ÑÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ Ð±Ð¸ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð°Ð» Ð² DST).
ÐŸÑ€Ð¸Ð¼ÐµÑ€:
â€¢ Ð² SRC (/src) Ð¸Ð¼Ð° ÑÐ»ÐµÐ´Ð½Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ:
/src/foof.txt
/src/1/bar.txt
/src/1/foo.txt
/src/2/1/foobar.txt
/src/2/3/barf.txt
â€¢ DST (/dst) Ðµ Ð¿Ñ€Ð°Ð·Ð½Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ
â€¢ Ð·Ð°Ð´Ð°Ð´ÐµÐ½Ð¸Ñ Ð½Ð¸Ð· Ðµ foo
Ð ÐµÐ·ÑƒÐ»Ñ‚Ð°Ñ‚:
â€¢ Ð² SRC Ð¸Ð¼Ð° ÑÐ»ÐµÐ´Ð½Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ:
/src/1/bar.txt
/src/2/3/barf.txt
â€¢ Ð² DST Ð¸Ð¼Ð° ÑÐ»ÐµÐ´Ð½Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ:
8
/dst/foof.txt
/dst/1/foo.txt
/dst/2/1/foobar.txt


#!/bin/bash

if [[ "${#}" -ne 3 ]] ;
then
    echo "There should be 3 parameters"
    exit 1
fi

src="${1}"

if [[ ! -d "${src}" ]] ;
then
    echo "1st param should be a directory"
    exit 2
fi

dst="${2}"

if [[ -d "${dst}" ]] ;
then
    if [[  $(find "${dst}" -mindepth 1 | wc -l) -ne 0 ]] ;
    then
        echo "The destination folder should be empty"
        exit 3
    fi
else
    echo "Incorrect dest dir"
    exit 4
fi

abc="${3}"
if [[ -z "${abc}" ]]
then
    echo "Empty string"
    exit 5
fi

if [[ $(id -u) -ne 0 ]] ;
then
    echo "Only root cat execute this script"
    exit 6
fi

files=$(find "${src}" -type f -name "*${abc}*")
echo "${files}"
for file in $files ;
do
    src_path=$(realpath "${src}")
    path=$(realpath "${file}" | rev | cut -d '/' -f 2- | rev | sed "s:^${src_path}/::g")
    mkdir -p "${dst}/${path}"

    mv "${file}" "${dst}/${path}/"

done



2018-SE-02 
ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð° Ð´Ð²Ð° Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ð¸ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° â€“ Ð¸Ð¼Ðµ Ð½Ð° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸ Ñ„Ð°Ð¹Ð» Ð¸
Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ. Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑÑ‚Ð° Ð½Ðµ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð° Ð¾Ð±ÐµÐºÑ‚Ð¸, Ð° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸ÑÑ‚ Ñ„Ð°Ð¹Ð» (US-ASCII) Ðµ ÑÑ‚ÐµÐ½Ð¾Ð³Ñ€Ð°Ð¼Ð°
Ð¸ Ð²ÑÐµÐºÐ¸ Ñ€ÐµÐ´ Ðµ Ð² ÑÐ»ÐµÐ´Ð½Ð¸Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚:
Ð˜ÐœÐ• Ð¤ÐÐœÐ˜Ð›Ð˜Ð¯ (ÑƒÑ‚Ð¾Ñ‡Ð½ÐµÐ½Ð¸Ñ): Ð ÐµÐ¿Ð»Ð¸ÐºÐ°
ÐºÑŠÐ´ÐµÑ‚Ð¾:
â€¢ Ð˜ÐœÐ• Ð¤ÐÐœÐ˜Ð›Ð˜Ð¯ Ð¿Ñ€Ð¸ÑÑŠÑÑ‚Ð²Ð°Ñ‚ Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾;
â€¢ Ð˜ÐœÐ• Ð¸ Ð¤ÐÐœÐ˜Ð›Ð˜Ð¯ ÑÐµ ÑÑŠÑÑ‚Ð¾ÑÑ‚ ÑÐ°Ð¼Ð¾ Ð¾Ñ‚ Ð¼Ð°Ð»ÐºÐ¸/Ð³Ð»Ð°Ð²Ð½Ð¸ Ð»Ð°Ñ‚Ð¸Ð½ÑÐºÐ¸ Ð±ÑƒÐºÐ²Ð¸ Ð¸ Ñ‚Ð¸Ñ€ÐµÑ‚Ð°;
â€¢ (ÑƒÑ‚Ð¾Ñ‡Ð½ÐµÐ½Ð¸Ñ) Ð½Ðµ Ðµ Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾ Ð´Ð° Ð¿Ñ€Ð¸ÑÑŠÑÑ‚Ð²Ð°Ñ‚;
â€¢ Ð´Ð²Ð¾ÐµÑ‚Ð¾Ñ‡Ð¸ÐµÑ‚Ð¾ â€˜:â€™ Ð¿Ñ€Ð¸ÑÑŠÑÑ‚Ð²Ð° Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾;
10
â€¢ Ð ÐµÐ¿Ð»Ð¸ÐºÐ°Ñ‚Ð° Ð½Ðµ ÑÑŠÐ´ÑŠÑ€Ð¶Ð° Ð·Ð½Ð°Ñ†Ð¸ Ð·Ð° Ð½Ð¾Ð² Ñ€ÐµÐ´;
â€¢ Ð² ÑÑ‚Ñ€Ð¸Ð½Ð³Ð° Ð¿Ñ€ÐµÐ´Ð¸ Ð´Ð²Ð¾ÐµÑ‚Ð¾Ñ‡Ð¸ÐµÑ‚Ð¾ â€˜:â€™ Ð·Ð°Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾ Ð¸Ð¼Ð° Ð¿Ð¾Ð½Ðµ ÐµÐ´Ð¸Ð½ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¼ÐµÐ¶Ð´Ñƒ Ð˜ÐœÐ• Ð¸ Ð¤ÐÐœÐ˜Ð›Ð˜Ð¯;
â€¢ Ð½Ð°Ð»Ð¸Ñ‡Ð¸ÐµÑ‚Ð¾ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¸ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð¸ ÐºÑŠÐ´ÐµÑ‚Ð¾ Ð¸ Ð´Ð° Ðµ Ð½Ð° Ñ€ÐµÐ´Ð° Ðµ Ð½ÐµÐ´ÐµÑ„Ð¸Ð½Ð¸Ñ€Ð°Ð½Ð¾.
ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ Ð²Ñ…Ð¾Ð´ÐµÐ½ Ñ„Ð°Ð¹Ð»:
John Lennon (The Beatles): Time you enjoy wasting, was not wasted.
Roger Waters: I'm in competition with myself and I'm losing.
John Lennon:Reality leaves a lot to the imagination.
Leonard Cohen:There is a crack in everything, that's how the light gets in.
Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð°:
â€¢ ÑÑŠÐ·Ð´Ð°Ð²Ð° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸ Ñ„Ð°Ð¹Ð» dict.txt Ð² Ð¿Ð¾ÑÐ¾Ñ‡ÐµÐ½Ð°Ñ‚Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð½Ð° Ð²ÑÐµÐºÐ¸ Ñ€ÐµÐ´ Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°:
Ð˜ÐœÐ• Ð¤ÐÐœÐ˜Ð›Ð˜Ð¯;ÐÐžÐœÐ•Ð 
ÐºÑŠÐ´ÐµÑ‚Ð¾:
â€“ Ð˜ÐœÐ• Ð¤ÐÐœÐ˜Ð›Ð˜Ð¯ Ðµ ÑƒÐ½Ð¸ÐºÐ°Ð»ÐµÐ½ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº Ð² ÑÑ‚ÐµÐ½Ð¾Ð³Ñ€Ð°Ð¼Ð°Ñ‚Ð° (Ð±ÐµÐ· Ð´Ð° ÑÐµ Ð¾Ñ‚Ñ‡Ð¸Ñ‚Ð°Ñ‚ ÑƒÑ‚Ð¾Ñ‡Ð½ÐµÐ½Ð¸ÑÑ‚Ð°);
â€“ ÐÐžÐœÐ•Ð  Ðµ ÑƒÐ½Ð¸ÐºÐ°Ð»ÐµÐ½ Ð½Ð¾Ð¼ÐµÑ€ Ð½Ð° Ñ‚Ð¾Ð·Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº, Ð¸Ð·Ð±Ñ€Ð°Ð½ Ð¾Ñ‚ Ð²Ð°Ñ.
â€¢ ÑÑŠÐ·Ð´Ð°Ð²Ð° Ñ„Ð°Ð¹Ð» ÐÐžÐœÐ•Ð .txt Ð² Ð¿Ð¾ÑÐ¾Ñ‡ÐµÐ½Ð°Ñ‚Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ, ÐºÐ¾Ð¹Ñ‚Ð¾ ÑÑŠÐ´ÑŠÑ€Ð¶Ð° Ð²ÑÐ¸Ñ‡ÐºÐ¸ (Ð¸ ÑÐ°Ð¼Ð¾) Ñ€ÐµÐ´Ð¾Ð²ÐµÑ‚Ðµ Ð½Ð°
Ð´Ð°Ð´ÐµÐ½Ð¸Ñ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº.

 #!/bin/bash

if [[ ${#} -ne 2 ]] ;
then
    echo "Invalid number of parameters"
    exit 1
fi

file=${1}
dir=${2}

if [[ ! -f "${file}" ]] ;
then
    echo "Invalid file parameter"
    exit 2
fi

if [[ ! -d "${dir}"  ]] ;
then
    echo "Invalid directory parameter"
    exit 3
fi

valid_lines=$(egrep "^[a-zA-Z-]+ [a-zA-Z-]+( \(.*\))?:.*" "${file}")

if [[ ! -f "${dir}/dict.txt" ]] ;
then
    touch "${dir}/dict.txt"
fi

dict="${dir}/dict.txt"
counter=1

while read person ;
do
    if grep -q "${person}" "${dict}" ;
    then
        continue
    fi
    echo "${person}:${counter}" >> "${dict}"
    if [[ ! -f "${counter}" ]] ;
    then
        touch "${dir}/${counter}.txt"
    fi

    grep "${person}" <(echo "${valid_lines}") | cut -d ":" -f 2  | sed "s:^ ::g" > ${dir}/${counter}.txt
    ((counter+=1 ))
done < <(echo "${valid_lines}" | cut -d ':' -f 1 | sed "s:(.*)::g" | sort | uniq ) ;


2018-SE-03 ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð° Ð´Ð²Ð° Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ð¸ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° â€“ Ð¸Ð¼ÐµÐ½Ð° Ð½Ð° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ
Ð² CSV Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚:
8,foo,bar,baz
2,quz,,foo
12,1,3,foo
3,foo,,
5,,bar,
7,,,
4,foo,bar,baz
Ð’Ð°Ð»Ð¸Ð´Ð½Ð¸ ÑÐ° ÑÐ»ÐµÐ´Ð½Ð¸Ñ‚Ðµ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ:
â€¢ CSV Ñ„Ð°Ð¹Ð»Ð¾Ð²ÐµÑ‚Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐ²Ð°Ñ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°, ÐºÐ°Ñ‚Ð¾ Ð²ÑÐµÐºÐ¸ Ñ€ÐµÐ´ Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ñ‚Ð° Ðµ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½ Ð½Ð° Ð¾Ñ‚Ð´ÐµÐ»ÐµÐ½ Ñ€ÐµÐ´;
â€¢ Ð½Ð° Ð´Ð°Ð´ÐµÐ½ Ñ€ÐµÐ´ Ð²ÑÑÐºÐ¾ Ð¿Ð¾Ð»Ðµ (ÐºÐ¾Ð»Ð¾Ð½Ð°) Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¾ Ð¾Ñ‚ Ð¾ÑÑ‚Ð°Ð½Ð°Ð»Ð¸Ñ‚Ðµ ÑÑŠÑ Ð·Ð°Ð¿ÐµÑ‚Ð°Ñ;
â€¢ Ð±Ñ€Ð¾ÑÑ‚ Ð½Ð° Ð¿Ð¾Ð»ÐµÑ‚Ð°Ñ‚Ð° Ð½Ð° Ð²ÑÐµÐºÐ¸ Ñ€ÐµÐ´ Ðµ ÐºÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ð°;
â€¢ Ð² Ð¿Ð¾Ð»ÐµÑ‚Ð°Ñ‚Ð° Ð½Ðµ Ð¼Ð¾Ð¶Ðµ Ð´Ð° Ð¿Ñ€Ð¸ÑÑŠÑÑ‚Ð²Ð° Ð·Ð°Ð¿ÐµÑ‚Ð°Ñ, Ñ‚.Ðµ., Ð·Ð°Ð¿ÐµÑ‚Ð°ÑÑ‚Ð° Ð²Ð¸Ð½Ð°Ð³Ð¸ Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ» Ð¼ÐµÐ¶Ð´Ñƒ Ð¿Ð¾Ð»ÐµÑ‚Ð°;
â€¢ Ð°ÐºÐ¾ Ð²ÑŠÐ² Ñ„Ð°Ð¹Ð»Ð° Ð¿Ñ€Ð¸ÑÑŠÑÑ‚Ð²Ð°Ñ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð¸, Ñ‚Ð¾ Ñ‚Ð¾Ð²Ð° ÑÐ° Ð´Ð°Ð½Ð½Ð¸ Ð¾Ñ‚ Ð´Ð°Ð´ÐµÐ½Ð¾ Ð¿Ð¾Ð»Ðµ;
â€¢ Ð¿ÑŠÑ€Ð²Ð¾Ñ‚Ð¾ Ð¿Ð¾Ð»Ðµ Ð½Ð° Ð²ÑÐµÐºÐ¸ Ñ€ÐµÐ´ Ðµ Ñ‡Ð¸ÑÐ»Ð¾, ÐºÐ¾ÐµÑ‚Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐ²Ð° Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð½Ð° Ñ€ÐµÐ´Ð° (ID).
ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ð¸Ð·Ð²Ð¸ÐºÐ²Ð°Ð½Ðµ: ./foo.sh a.csv b.csv
Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ñ‡ÐµÑ‚Ðµ a.csv Ð¸ Ð½Ð° Ð½ÐµÐ³Ð¾Ð²Ð° Ð±Ð°Ð·Ð° Ð´Ð° ÑÑŠÐ·Ð´Ð°Ð²Ð° b.csv Ð¿Ð¾ ÑÐ»ÐµÐ´Ð½Ð¸Ñ Ð½Ð°Ñ‡Ð¸Ð½:
â€¢ Ð½ÑÐºÐ¾Ð¸ Ñ€ÐµÐ´Ð¾Ð²Ðµ Ð²ÑŠÐ² Ñ„Ð°Ð¹Ð»Ð° ÑÐµ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð°Ð²Ð°Ñ‚ ÑÐ°Ð¼Ð¾ Ð¿Ð¾ ÐºÐ¾Ð»Ð¾Ð½Ð°Ñ‚Ð° ID, Ð¸ Ð·Ð° Ñ‚ÑÑ… ÐºÐ°Ð·Ð²Ð°Ð¼Ðµ, Ñ‡Ðµ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð°Ñ‚ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ ð´ð‘–
â€¢ Ð·Ð° Ð²ÑÑÐºÐ¾ Ñ‚Ð°ÐºÐ¾Ð²Ð° Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ ð´ð‘–
Ð´Ð° ÑÐµ Ð¾ÑÑ‚Ð°Ð²Ñ ÑÐ°Ð¼Ð¾ ÐµÐ´Ð¸Ð½ Ñ€ÐµÐ´ - Ñ‚Ð¾Ð·Ð¸, Ñ Ð½Ð°Ð¹-Ð¼Ð°Ð»ÐºÐ° ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ Ð½Ð° ID-Ñ‚Ð¾;
â€¢ Ñ€ÐµÐ´Ð¾Ð²ÐµÑ‚Ðµ, ÐºÐ¾Ð¸Ñ‚Ð¾ Ð½Ðµ ÑÐ° Ñ‡Ð»ÐµÐ½Ð¾Ð²Ðµ Ð² Ð½ÑÐºÐ¾Ðµ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ ð´ð‘–
ÑÐµ Ð·Ð°Ð¿Ð¸ÑÐ²Ð°Ñ‚ Ð² Ð¸Ð·Ñ…Ð¾Ð´Ð½Ð¸Ñ Ñ„Ð°Ð¹Ð» Ð±ÐµÐ· Ð¿Ñ€Ð¾Ð¼ÑÐ½Ð°.

#!/bin/bash

if [[ "${#}" -ne 2 ]] ;
then
    echo "Two parameters"
    exit 1
fi

input="${1}"

if [[ ! -f "${input}" ]] ;
then
    echo "Invalid file"
    exit 2
fi

output="${2}"
if [[ -e "${output}" ]] ;
then
    > "${output}"
else
    touch "${output}"
fi

removed_id=$(cut -d ',' -f 2- "${input}" | sort | uniq)
while read line ;
do
    count=$(egrep -o "^[0-9]+,${line}$" "${input}" | wc -l)
    if [[ "${count}" -lt 2 ]] ;
    then
        whole_line=$(egrep "^[0-9]+,${line}$" "${input}")
        echo "${whole_line}" >> "${output}"
    else
        echo "$(egrep "^[0-9]+,${line}$" "${input}" | sort -n -k 1 -t ',' | head -n 1)" >> "${output}"
    fi
done <<< "${removed_id}"


2019-SE-01 ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ Ð´Ð²Ð° ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° (Ð¿Ð¾ ÐµÐ´Ð¸Ð½ Ð·Ð° Ð²ÑÑÐºÐ° Ð¿Ð¾Ð´Ñ‚Ð¾Ñ‡ÐºÐ°), ÐºÐ¾Ð¸Ñ‚Ð¾ Ñ‡ÐµÑ‚Ð°Ñ‚ Ñ€ÐµÐ´Ð¾Ð²Ðµ Ð¾Ñ‚ STDIN. Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²ÐµÑ‚Ðµ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð²Ð°Ñ‚ ÑÐ°Ð¼Ð¾ Ñ€ÐµÐ´Ð¾Ð²ÐµÑ‚Ðµ, ÐºÐ¾Ð¸Ñ‚Ð¾ ÑÑŠÐ´ÑŠÑ€Ð¶Ð°Ñ‚ Ñ†ÐµÐ»Ð¸ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¸ Ð¸Ð»Ð¸ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»Ð½Ð¸ Ñ‡Ð¸ÑÐ»Ð°;
Ð¾ÑÑ‚Ð°Ð½Ð°Ð»Ð¸Ñ‚Ðµ Ñ€ÐµÐ´Ð¾Ð²Ðµ ÑÐµ Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€Ð°Ñ‚. Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²ÐµÑ‚Ðµ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð¸Ð·Ð²ÐµÐ¶Ð´Ð° Ð½Ð° STDOUT:
Ð°) Ð²ÑÐ¸Ñ‡ÐºÐ¸ ÑƒÐ½Ð¸ÐºÐ°Ð»Ð½Ð¸ Ñ‡Ð¸ÑÐ»Ð°, Ñ‡Ð¸ÑÑ‚Ð¾ Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ð° ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ Ðµ Ñ€Ð°Ð²Ð½Ð° Ð½Ð° Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»Ð½Ð°Ñ‚Ð° Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ð° ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ ÑÑ€ÐµÐ´ Ð²ÑÐ¸Ñ‡ÐºÐ¸ Ñ‡Ð¸ÑÐ»Ð°
Ð±) Ð²ÑÐ¸Ñ‡ÐºÐ¸ Ð½Ð°Ð¹-Ð¼Ð°Ð»ÐºÐ¸ ÑƒÐ½Ð¸ÐºÐ°Ð»Ð½Ð¸ Ñ‡Ð¸ÑÐ»Ð° Ð¾Ñ‚ Ñ‚ÐµÐ·Ð¸, ÐºÐ¾Ð¸Ñ‚Ð¾ Ð¸Ð¼Ð°Ñ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»Ð½Ð° ÑÑƒÐ¼Ð° Ð½Ð° Ñ†Ð¸Ñ„Ñ€Ð¸Ñ‚Ðµ ÑÐ¸
ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ Ð²Ñ…Ð¾Ð´:
We don't
n11d n0
educat10n
11
12.3
6
33
-42
-42
111
111
-111
ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ Ð¸Ð·Ñ…Ð¾Ð´ Ð·Ð° Ð°):
-111
111
ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ Ð¸Ð·Ñ…Ð¾Ð´ Ð·Ð° Ð±):
-42


a)
#!/bin/bash

numbers_file=$(mktemp)

while read line ;
do
    if [[ ${line} =~ ^((-)?[0-9]+( )?)+$ ]] ;
    then
        echo "${line}" >> "${numbers_file}"
    fi
done

sed "s: :\n:g"

max=$(cat "${numbers_file}" | tr -d '-' | sort -n -r | head -n 1)

echo "Result:"
cat "${numbers_file}" | egrep "^(-)?${max}$" | sort | uniq


b)
#!/bin/bash

temp=$(mktemp)

while read line ;
do
    if [[ ${line} =~ ^((-)?[0-9]+( )?)+$ ]] ;
    then
        echo "${line}" >> "${temp}"
    fi
done

max_sum=0
max_sum_num=0
nums_with_sums=$(mktemp)

while read line ;
do
    current_sum=$(echo "${line}" | sed -E "s:-?([0-9]):\1\n:g" | awk '{sum += $1} END {print sum}')
    echo "${line} ${current_sum}" >> "${nums_with_sums}"

    if [[ ${current_sum} -gt ${max_sum} ]] ;
    then
        max_sum=${current_sum}
        max_sum_num=${line}
    fi
done < <(cat "${temp}" | tr ' ' '\n')

echo "Result:"
cat "${nums_with_sums}" | egrep "^-?[0-9]+ ${max_sum}$" | sort -n -k 1 | head -n 1 | cut -d ' ' -f 1


2019-SE-02 
ÐÐ°Ð¿Ð¸ÑˆÐµÑ‚Ðµ ÑˆÐµÐ» ÑÐºÑ€Ð¸Ð¿Ñ‚, ÐºÐ¾Ð¹Ñ‚Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð° Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸. ÐžÐ±Ñ‰ Ð²Ð¸Ð´ Ð½Ð° Ð¸Ð·Ð²Ð¸ÐºÐ²Ð°Ð½Ðµ:
./foo.sh [-n N] FILE1...
Ð’ Ð¾Ð±Ñ‰Ð¸Ñ ÑÐ»ÑƒÑ‡Ð°Ð¹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ñ‚Ðµ ÑÐµ Ñ‚Ñ€ÐµÑ‚Ð¸Ñ€Ð°Ñ‚ ÐºÐ°Ñ‚Ð¾ Ð¸Ð¼ÐµÐ½Ð° Ð½Ð° (.log) Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ, ÐºÐ¾Ð¸Ñ‚Ð¾ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð±ÑŠÐ´Ð°Ñ‚ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐµÐ½Ð¸ Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°, ÑÑŠÑ ÑÐ»ÐµÐ´Ð½Ð¾Ñ‚Ð¾ Ð¸Ð·ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ: Ð°ÐºÐ¾ Ð¿ÑŠÑ€Ð²Ð¸ÑÑ‚ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€ Ðµ ÑÑ‚Ñ€Ð¸Ð½Ð³ÑŠÑ‚ -n, Ñ‚Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¸ÑÑ‚ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚ÑŠÑ€ Ðµ Ñ‡Ð¸ÑÐ»Ð¾, Ð´ÐµÑ„Ð¸Ð½Ð¸Ñ€Ð°Ñ‰Ð¾ ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ Ð½Ð° Ð¿Ñ€Ð¾Ð¼ÐµÐ½Ð»Ð¸Ð²Ð°Ñ‚Ð° N, ÐºÐ¾ÑÑ‚Ð¾ Ñ‰Ðµ Ð¿Ð¾Ð»Ð·Ð²Ð°Ð¼Ðµ Ð² ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°. Ð’ÑŠÐ²ÐµÐ¶Ð´Ð°Ð¼Ðµ
Ð¿Ð¾Ð½ÑÑ‚Ð¸ÐµÑ‚Ð¾ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð½Ð° Ñ„Ð°Ð¹Ð» (Ð˜Ð”Ð¤), ÐºÐ¾ÐµÑ‚Ð¾ ÑÐµ ÑÑŠÑÑ‚Ð¾Ð¸ Ð¾Ñ‚ Ð¸Ð¼ÐµÑ‚Ð¾ Ð½Ð° Ð´Ð°Ð´ÐµÐ½ Ñ„Ð°Ð¹Ð» Ð±ÐµÐ· Ñ€Ð°Ð·ÑˆÐ¸Ñ€ÐµÐ½Ð¸ÐµÑ‚Ð¾
.log. Ð—Ð° ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð°Ð¼Ðµ, Ñ‡Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚:
â€¢ Ñ‰Ðµ Ð±ÑŠÐ´Ðµ Ð¸Ð·Ð²Ð¸ÐºÐ²Ð°Ð½ Ñ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¸ Ð¸Ð¼ÐµÐ½Ð° Ð½Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ, Ð²Ð¸Ð½Ð°Ð³Ð¸ Ð·Ð°Ð²ÑŠÑ€ÑˆÐ²Ð°Ñ‰Ð¸ Ð½Ð° .log
â€¢ Ð½ÑÐ¼Ð° Ð´Ð° Ð±ÑŠÐ´Ðµ Ð¸Ð·Ð²Ð¸ÐºÐ²Ð°Ð½ Ñ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¸ Ð¸Ð¼ÐµÐ½Ð° Ð½Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²Ðµ Ñ ÐµÐ´Ð½Ð°ÐºÑŠÐ² Ð˜Ð”Ð¤.
Ð›Ð¾Ð³ Ñ„Ð°Ð¹Ð»Ð¾Ð²ÐµÑ‚Ðµ ÑÐ° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸, ÐºÐ°Ñ‚Ð¾ Ð²ÑÐµÐºÐ¸ Ñ€ÐµÐ´ Ð¸Ð¼Ð° ÑÐ»ÐµÐ´Ð½Ð¸Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚:
â€¢ Ð²Ñ€ÐµÐ¼Ðµ: timestamp Ð²ÑŠÐ² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ YYYY-MM-DD HH:MM:SS
â€¢ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»
â€¢ Ð´Ð°Ð½Ð½Ð¸: Ð¿Ð¾Ñ€ÐµÐ´Ð¸Ñ†Ð° Ð¾Ñ‚ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¸ Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»Ð½Ð° Ð´ÑŠÐ»Ð¶Ð¸Ð½Ð°
Ð—Ð° ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ð°Ð¼Ðµ, Ñ‡Ðµ Ñ€ÐµÐ´Ð¾Ð²ÐµÑ‚Ðµ Ð²ÑŠÐ² Ð²ÑÐµÐºÐ¸ Ñ„Ð°Ð¹Ð» ÑÐ° ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð°Ð½Ð¸ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼Ðµ Ð²ÑŠÐ·Ñ…Ð¾Ð´ÑÑ‰Ð¾.
ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ ÑÑŠÐ´ÑŠÑ€Ð¶Ð°Ð½Ð¸Ðµ Ð½Ð° Ð´Ð°Ð´ÐµÐ½ Ð»Ð¾Ð³ Ñ„Ð°Ð¹Ð»:
2019-05-05 06:26:54 orthanc rsyslogd: rsyslogd was HUPed
2019-05-06 06:30:32 orthanc rsyslogd: rsyslogd was HUPed
2019-05-06 10:48:29 orthanc kernel: [1725379.728871] Chrome_~dThread[876]: segfault
Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ÑŠÑ‚ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð¸Ð·Ð²ÐµÐ¶Ð´Ð° Ð½Ð° STDOUT Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ‚Ðµ N Ñ€ÐµÐ´Ð° (Ð°ÐºÐ¾ N Ð½Ðµ Ðµ Ð´ÐµÑ„Ð¸Ð½Ð¸Ñ€Ð°Ð½Ð¾ - 10 Ñ€ÐµÐ´Ð°) Ð¾Ñ‚ Ð²ÑÐµÐºÐ¸
Ñ„Ð°Ð¹Ð», Ð² ÑÐ»ÐµÐ´Ð½Ð¸Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚:
â€¢ timestamp Ð²ÑŠÐ² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ YYYY-MM-DD HH:MM:SS
â€¢ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»
â€¢ Ð˜Ð”Ð¤
â€¢ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»
â€¢ Ð´Ð°Ð½Ð½Ð¸
Ð˜Ð·Ñ…Ð¾Ð´ÑŠÑ‚ Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð±ÑŠÐ´Ðµ Ð³Ð»Ð¾Ð±Ð°Ð»Ð½Ð¾ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð°Ð½ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼Ðµ Ð²ÑŠÐ·Ñ…Ð¾Ð´ÑÑ‰Ð¾.


#!/bin/bash

if [[ "${1}" == "-n" ]] ;
then
    if [[ ! "${2}" =~ ^[0-9]+$ ]] ;
    then
        echo "Invalid N"
        exit 1
    else
        N="${2}"
    fi
    shift
    shift
else
    N=10
fi

for file in "${@}" ;
do
    if [[ ! -f "${file}" || ! "${file}" =~ .*\.log ]] ;
    then
        echo "Invalid argument"
        exit 1
    fi
done

for file in "${@}" ;
do
   content="$(cat "${file}")"
   idf="$(echo "${file}" | sed -E 's:\.log::g')"
   first_part=$(echo "${content}" | cut -d ' ' -f 1,2)
   second_part=$(echo "${content}" | cut -d ' ' -f 3-)
   echo "${first_part} ${idf} ${second_part}"
done | sort | head -n "${N}"
